window.dhtmlx||(dhtmlx={});dhtmlx.version="3.0";dhtmlx.codebase="./";dhtmlx.copy=function(a){var b=dhtmlx.copy.Ya;b.prototype=a;return new b};dhtmlx.copy.Ya=function(){};dhtmlx.extend=function(a,b){for(var c in b)a[c]=b[c];b.n&&a.n();return a};
dhtmlx.proto_extend=function(){for(var a=arguments,b=a[0],c=[],d=a.length-1;d>0;d--){if(typeof a[d]=="function")a[d]=a[d].prototype;for(var e in a[d])e=="_init"?c.push(a[d][e]):b[e]||(b[e]=a[d][e])}a[0].n&&c.push(a[0].n);b.n=function(){for(var a=0;a<c.length;a++)c[a].apply(this,arguments)};b.base=a[1];var f=function(a){this.n(a);this.H&&this.H(a,this.defaults)};f.prototype=b;b=a=null;return f};dhtmlx.bind=function(a,b){return function(){return a.apply(b,arguments)}};
dhtmlx.require=function(a){dhtmlx.U[a]||(dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+a).responseText),dhtmlx.U[a]=!0)};dhtmlx.U={};dhtmlx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhtmlx.methodPush=function(a,b){return function(){var c=!1;return c=a[b].apply(a,arguments)}};dhtmlx.isNotDefined=function(a){return typeof a=="undefined"};dhtmlx.delay=function(a,b,c,d){setTimeout(function(){var d=a.apply(b,c);a=b=c=null;return d},d||1)};
dhtmlx.uid=function(){if(!this.W)this.W=(new Date).valueOf();this.W++;return this.W};dhtmlx.toNode=function(a){return typeof a=="string"?document.getElementById(a):a};dhtmlx.toArray=function(a){return dhtmlx.extend(a||[],dhtmlx.PowerArray)};dhtmlx.toFunctor=function(a){return typeof a=="string"?eval(a):a};dhtmlx.o={};
dhtmlx.event=function(a,b,c,d){var a=dhtmlx.toNode(a),e=dhtmlx.uid();dhtmlx.o[e]=[a,b,c];d&&(c=dhtmlx.bind(c,d));a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);return e};dhtmlx.eventRemove=function(a){if(a){var b=dhtmlx.o[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.o[a]}};
dhtmlx.EventSystem={n:function(){this.o={};this.$={};this.T={}},block:function(){this.o.ja=!0},unblock:function(){this.o.ja=!1},mapEvent:function(a){dhtmlx.extend(this.T,a)},callEvent:function(a,b){if(this.o.ja)return!0;var a=a.toLowerCase(),c=this.o[a.toLowerCase()],d=!0;if(c)for(var e=0;e<c.length;e++)if(c[e].apply(this,b||[])===!1)d=!1;this.T[a]&&!this.T[a].callEvent(a,b)&&(d=!1);return d},attachEvent:function(a,b,c){var a=a.toLowerCase(),c=c||dhtmlx.uid(),b=dhtmlx.toFunctor(b),d=this.o[a]||dhtmlx.toArray();
d.push(b);this.o[a]=d;this.$[c]={f:b,t:a};return c},detachEvent:function(a){if(this.$[a]){var b=this.$[a].t,c=this.$[a].f,d=this.o[b];d.remove(c);delete this.$[a]}}};
dhtmlx.PowerArray={removeAt:function(a,b){a>=0&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&b!==0)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(i=0;i<this.length;i++)if(a==this[i])return i;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhtmlx.env={};
if(navigator.userAgent.indexOf("Opera")!=-1)dhtmlx.od=!0;else{dhtmlx.w=!!document.all;dhtmlx.Zb=!document.all;dhtmlx.pd=navigator.userAgent.indexOf("KHTML")!=-1;if(navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat")dhtmlx.w=8;if(navigator.appVersion.indexOf("MSIE 9.0")!=-1&&document.compatMode!="BackCompat")dhtmlx.w=9}dhtmlx.env={};
(function(){dhtmlx.env.transform=!1;dhtmlx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","oTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","oTransition"]},b=document.createElement("DIV"),c,d=0;d<a.names.length;d++)for(;p=a[a.names[d]].pop();)typeof b.style[p]!="undefined"&&(dhtmlx.env[a.names[d]]=!0)})();
dhtmlx.env.transform_prefix=function(){var a;dhtmlx.od?a="-o-":(a="",dhtmlx.Zb&&(a="-moz-"),dhtmlx.pd&&(a="-webkit-"));return a}();dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();dhtmlx.zIndex={drag:1E4};
dhtmlx.html={create:function(a,b,c){var b=b||{},d=document.createElement(a),e;for(e in b)d.setAttribute(e,b[e]);if(b.style)d.style.cssText=b.style;if(b["class"])d.className=b["class"];if(c)d.innerHTML=c;return d},getValue:function(a){a=dhtmlx.toNode(a);return!a?"":dhtmlx.isNotDefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b?b.parentNode.insertBefore(a,
b):c.appendChild(a))},locate:function(a,b){for(var a=a||event,c=a.target||a.srcElement;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{y:Math.round(i),
x:Math.round(j)}}else{for(j=i=0;a;)i+=parseInt(a.offsetTop,10),j+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:i,x:j}}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhtmlx.w&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();dhtmlx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=
!0;return!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(b,"g"),"")}};(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length)a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhtmlx.codebase=a.slice(0,a.length).join("/")+"/"})();if(!dhtmlx.ui)dhtmlx.ui={};
dhtmlx.Template={Na:{},empty:function(){return""},setter:function(a){return dhtmlx.Template.fromHTML(a)},obj_setter:function(a){var b=dhtmlx.Template.setter(a),c=this;return function(){return b.apply(c,arguments)}},fromHTML:function(a){if(typeof a=="function")return a;if(this.Na[a])return this.Na[a];a=(a||"").toString();a=a.replace(/[\r\n]+/g,"\\n");a=a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');a=a.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"');a=a.replace(/\{common\.([^\}\(]*)\(\)\}/g,
'"+(common.$1?common.$1(obj):"")+"');a=a.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"');a=a.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"');a=a.replace(/\{obj\}/g,'"+obj+"');a=a.replace(/\{-obj/g,"{obj");a=a.replace(/\{-common/g,"{common");a='return "'+a+'";';return this.Na[a]=Function("obj","common",a)}};
dhtmlx.Type={add:function(a,b){if(!a.types&&a.prototype.types)a=a.prototype;var c=b.name||"default";this.vb(b);this.vb(b,"edit");this.vb(b,"loading");a.types[c]=dhtmlx.extend(dhtmlx.extend({},a.types[c]||this.Ec),b);return c},Ec:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},vb:function(a,b){var b="template"+(b?"_"+b:""),c=a[b];if(c&&typeof c=="string"){if(c.indexOf("->")!=-1)switch(c=
c.split("->"),c[0]){case "html":c=dhtmlx.html.getValue(c[1]).replace(/\"/g,'\\"');break;case "http":c=(new dhtmlx.ajax).sync().get(c[1],{uid:(new Date).valueOf()}).responseText}a[b]=dhtmlx.Template.fromHTML(c)}}};
dhtmlx.Settings={n:function(){this.e=this.config={}},define:function(a,b){return typeof a=="object"?this.ca(a):this.la(a,b)},la:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b):b},ca:function(a){if(a)for(var b in a)this.la(b,a[b])},H:function(a,b){var c=dhtmlx.extend({},b);typeof a=="object"&&!a.tagName&&dhtmlx.extend(c,a);this.ca(c)},L:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.L(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a},jb:function(a,
b,c){if(typeof a=="object"&&!a.tagName)a=a.container;this.g=dhtmlx.toNode(a);if(!this.g&&c)this.g=c(a);this.g.className+=" "+b;this.g.onselectstart=function(){return!1};this.j=this.g},Md:function(a){if(typeof a=="object")return this.type_setter(a);this.type=dhtmlx.extend({},this.types[a]);this.customize()},customize:function(a){a&&dhtmlx.extend(this.type,a);this.type.bc=dhtmlx.Template.fromHTML(this.template_item_start(this.type));this.type.ac=this.template_item_end(this.type);this.render()},type_setter:function(a){this.Md(typeof a==
"object"?dhtmlx.Type.add(this,a):a);return a},template_setter:function(a){return this.type_setter({template:a})},css_setter:function(a){this.g.className+=" "+a;return a}};dhtmlx.Destruction={n:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){};this.N=this.p=null;this.z&&document.body.appendChild(this.z);this.z=null;if(this.g)this.g.innerHTML="",this.g.p=null;this.data=this.g=this.j=null;this.o=this.$={}}};dhtmlx.destructors=[];
dhtmlx.event(window,"unload",function(){for(var a=0;a<dhtmlx.destructors.length;a++)dhtmlx.destructors[a].destructor();dhtmlx.destructors=[];for(var b in dhtmlx.o){var c=dhtmlx.o[b];c[0].removeEventListener?c[0].removeEventListener(c[1],c[2],!1):c[0].detachEvent&&c[0].detachEvent("on"+c[1],c[2]);delete dhtmlx.o[b]}});
dhtmlx.ui.pager=function(a){this.name="Pager";dhtmlx.extend(this,dhtmlx.Settings);this.jb(a,"dhx_pager");dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.SingleRender);dhtmlx.extend(this,dhtmlx.MouseEvents);this.H(a,{size:10,page:-1,group:5,count:0,type:"default"});this.data=this.e;this.refresh()};
dhtmlx.ui.pager.prototype={A:"dhx_p_id",on_click:{dhx_pager_item:function(a,b){this.select(b)}},select:function(a){switch(a){case "next":a=this.e.page+1;break;case "prev":a=this.e.page-1;break;case "first":a=0;break;case "last":a=this.e.limit-1}a<0&&(a=0);a>=this.data.limit&&(a=this.data.limit-1);if(this.callEvent("onBeforePageChange",[this.e.page,a]))this.data.page=a*1,this.refresh(),this.callEvent("onAfterPageChange",[a])},types:{"default":{template:dhtmlx.Template.fromHTML("{common.pages()}"),
pages:function(a){var b="";if(a.page==-1)return"";a.min=a.page-Math.round((a.group-1)/2);a.max=a.min+a.group-1;if(a.min<0)a.max+=a.min*-1,a.min=0;if(a.max>=a.limit)a.min-=Math.min(a.min,a.max-a.limit+1),a.max=a.limit-1;for(var c=a.min||0;c<=a.max;c++)b+=this.button({id:c,index:c+1,selected:c==a.page?"_selected":""});return b},page:function(a){return a.page+1},first:function(){return this.button({id:"first",index:" &lt;&lt; ",selected:""})},last:function(){return this.button({id:"last",index:" &gt;&gt; ",
selected:""})},prev:function(){return this.button({id:"prev",index:"&lt;",selected:""})},next:function(){return this.button({id:"next",index:"&gt;",selected:""})},button:dhtmlx.Template.fromHTML("<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>")}},refresh:function(){var a=this.e;a.limit=Math.ceil(a.count/a.size);if(a.limit&&a.limit!=a.old_limit)a.page=Math.min(a.limit-1,a.page);var b=a.page;if(b!=-1&&b!=a.old_page||a.limit!=a.old_limit)this.render(),this.callEvent("onRefresh",
[]),a.old_limit=a.limit,a.old_page=a.page},template_item_start:dhtmlx.Template.fromHTML("<div>"),template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.SingleRender={n:function(){},da:function(a){return this.type.bc(a,this.type)+this.type.template(a,this.type)+this.type.ac},render:function(){if(!this.callEvent||this.callEvent("onBeforeRender",[this.data])){if(this.data)this.j.innerHTML=this.da(this.data);this.callEvent&&this.callEvent("onAfterRender",[])}}};
dhtmlx.ui.Tooltip=function(a){this.name="Tooltip";this.version="3.0";typeof a=="string"&&(a={template:a});dhtmlx.extend(this,dhtmlx.Settings);dhtmlx.extend(this,dhtmlx.SingleRender);this.H(a,{type:"default",dy:0,dx:20});this.j=this.g=document.createElement("DIV");this.g.className="dhx_tooltip";dhtmlx.html.insertBefore(this.g,document.body.firstChild)};
dhtmlx.ui.Tooltip.prototype={show:function(a,b){if(!this.Gb){if(this.data!=a)this.data=a,this.render(a);this.g.style.top=b.y+this.e.dy+"px";this.g.style.left=b.x+this.e.dx+"px";this.g.style.display="block"}},hide:function(){this.data=null;this.g.style.display="none"},disable:function(){this.Gb=!0},enable:function(){this.Gb=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty};
dhtmlx.AutoTooltip={tooltip_setter:function(a){var b=new dhtmlx.ui.Tooltip(a);this.attachEvent("onMouseMove",function(a,d){b.show(this.get(a),dhtmlx.html.pos(d))});this.attachEvent("onMouseOut",function(){b.hide()});this.attachEvent("onMouseMoving",function(){b.hide()});return b}};dhtmlx.compat=function(a,b){if(dhtmlx.compat[a])dhtmlx.compat[a](b)};
(function(){if(!window.dhtmlxError){var a=function(){};window.dhtmlxError={catchError:a,throwError:a};window.convertStringToBoolean=function(a){return!!a};window.dhtmlxEventable=function(a){dhtmlx.extend(a,dhtmlx.EventSystem)};var b={getXMLTopNode:function(){},doXPath:function(a){return dhtmlx.DataDriver.xml.xpath(this.xml,a)},xmlDoc:{responseXML:!0}};dhtmlx.compat.dataProcessor=function(a){var d="_sendData",e="_in_progress",f="_tMode",g="_waitMode";a[d]=function(a,c){if(a){c&&(this[e][c]=(new Date).valueOf());
if(!this.callEvent("onBeforeDataSending",c?[c,this.getState(c)]:[]))return!1;var d=this,k=this.serverProcessor;this[f]!="POST"?dhtmlx.ajax().get(k+(k.indexOf("?")!=-1?"&":"?")+this.serialize(a,c),"",function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c);d.afterUpdate(d,null,null,null,b)}):dhtmlx.ajax().post(k,this.serialize(a,c),function(a,c){b.xml=dhtmlx.DataDriver.xml.checkResponse(a,c);d.afterUpdate(d,null,null,null,b)});this[g]++}}}}})();
dhtmlx.DataProcessor={Gc:function(a){var b="_methods";a[b]=["setItemStyle","","changeId","remove"];this.attachEvent("onAfterAdd",function(b){a.setUpdated(b,!0,"inserted")});this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(a,b){a.getUserData&&a.getUserData(b,this.fa)},this));this.attachEvent("onBeforeDelete",function(b){var d=a.getState(b);if(d=="inserted")return a.setUpdated(b,!1),!0;if(d=="deleted")return!1;if(d=="true_deleted")return!0;a.setUpdated(b,!0,"deleted");return!1});this.attachEvent("onAfterEditStop",
function(b){a.setUpdated(b,!0,"updated")});this.attachEvent("onBindUpdate",function(b){window.setTimeout(function(){a.setUpdated(b.id,!0,"updated")},1)});b="_getRowData";a[b]=function(a){var b=this.obj.data.get(a),e={},f;for(f in b)f.indexOf("_")!==0&&(e[f]=b[f]);return e};b="_clearUpdateFlag";a[b]=function(){};this.fa={};a.attachEvent("insertCallback",this.Ib);a.attachEvent("updateCallback",this.Ib);a.attachEvent("deleteCallback",function(a,b){this.obj.setUserData(b,this.action_param,"true_deleted");
this.obj.remove(b)});dhtmlx.compat("dataProcessor",a)},Ib:function(a,b){this.obj.data.set(b,dhtmlx.DataDriver.xml.getDetails(a.firstChild));this.obj.data.refresh(b)},setItemStyle:function(a,b){var c=this.B(a);c&&(c.style.cssText+=";"+b)},changeId:function(a,b){this.data.changeId(a,b);this.refresh()},setUserData:function(a,b,c){a?this.data.get(a)[b]=c:this.fa[b]=c},getUserData:function(a,b){return a?this.data.get(a)[b]:this.fa[b]}};(function(){var a="_dp_init";dhtmlx.DataProcessor[a]=dhtmlx.DataProcessor.Gc})();
dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var a="_dragged",b=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(a,c,d){b.apply(this,arguments);if(!d){var e=dhtmlx.DragControl.D=dhtmlx.DragControl.D||{};if(!e.from)e.from=this.dragStartObject;dhtmlx.DragControl.za(a,c,!0)}};var c=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(a,b,e){if(!e&&dhtmlx.DragControl.s)dhtmlx.DragControl.C=d.dragStartNode,
dhtmlx.DragControl.Ka(a,!0);c.apply(this,arguments)};var d=new dhtmlDragAndDropObject,e=dhtmlx.DragControl.sb;dhtmlx.DragControl.sb=function(){e.apply(this,arguments);var b=dhtmlx.DragControl.D;if(b){for(var c=[],f=[],g=0;g<b.source.length;g++)c[g]={idd:b.source[g]},f.push(b.source[g]);d.dragStartNode={parentNode:{},parentObject:{idd:c,id:f.length==1?f[0]:f,treeNod:{object:b.from}}};d.dragStartNode.parentObject.treeNod[a]=c;d.dragStartObject=b.from}};var f=dhtmlx.DragControl.za;dhtmlx.DragControl.za=
function(a,b,c){f.apply(this,arguments);!this.s&&!c&&(a=d.checkLanding(a,b,!0))};var g=dhtmlx.DragControl.Ka;dhtmlx.DragControl.Ka=function(a,b){g.apply(this,arguments);d.lastLanding&&!b&&d.stopDrag(a,!1,!0)};var h=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(b){var c=null;b&&(c=h.apply(this,arguments));if(!c){for(var c=d.dragStartObject,e=[],f=c[a],g=0;g<f.length;g++)e.push(f[g].idd||f[g].id);dhtmlx.DragControl.D.source=e}return c}}};
dhtmlx.DataMove={n:function(){},copy:function(a,b,c,d){var e=this.get(a);if(e)return c&&(e=c.externalData(e)),c=c||this,c.add(c.externalData(e,d),b)},move:function(a,b,c,d){if(a instanceof Array)for(var e=0;e<a.length;e++){var f=(c||this).indexById(this.move(a[e],b,c,dhtmlx.uid()));a[e+1]&&(b=f+(this.indexById(a[e+1])<f?0:1))}else if(nid=a,!(b<0)){var g=this.get(a);if(g)return!c||c==this?this.data.move(this.indexById(a),b):(nid=c.add(c.externalData(g,d),b),this.remove(a)),nid}},moveUp:function(a,
b){return this.move(a,this.indexById(a)-(b||1))},moveDown:function(a,b){return this.moveUp(a,(b||1)*-1)},moveTop:function(a){return this.move(a,0)},moveBottom:function(a){return this.move(a,this.data.dataCount()-1)},externalData:function(a,b){var c=dhtmlx.extend({},a);c.id=b||dhtmlx.uid();c.$selected=c.$template=null;return c}};
dhtmlx.DragControl={F:dhtmlx.toArray(["dummy"]),addDrop:function(a,b,c){a=dhtmlx.toNode(a);a.dhx_drop=this.Tb(b);if(c)a.dhx_master=!0},Tb:function(a){var a=a||dhtmlx.DragControl,b=this.F.find(a);if(b<0)b=this.F.length,this.F.push(a);return b},addDrag:function(a,b){a=dhtmlx.toNode(a);a.dhx_drag=this.Tb(b);dhtmlx.event(a,"mousedown",this.Bd,a)},Bd:function(a){dhtmlx.DragControl.C&&(dhtmlx.DragControl.Ea(),dhtmlx.DragControl.destroyDrag());dhtmlx.DragControl.C=this;dhtmlx.DragControl.oc={x:a.pageX,y:a.pageY};
dhtmlx.DragControl.ma=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.sb);dhtmlx.DragControl.na=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Ea);dhtmlx.DragControl.Fb=dhtmlx.event(this,"scroll",dhtmlx.DragControl.Ea);a.cancelBubble=!0;return!1},Ea:function(){dhtmlx.DragControl.ma=dhtmlx.eventRemove(dhtmlx.DragControl.ma);dhtmlx.DragControl.na=dhtmlx.eventRemove(dhtmlx.DragControl.na);dhtmlx.DragControl.Fb=dhtmlx.eventRemove(dhtmlx.DragControl.Fb)},sb:function(a){var b={x:a.pageX,
y:a.pageY};if(!(Math.abs(b.x-dhtmlx.DragControl.oc.x)<5&&Math.abs(b.y-dhtmlx.DragControl.oc.y)<5)&&(dhtmlx.DragControl.Ea(),dhtmlx.DragControl.createDrag(a)))dhtmlx.DragControl.sendSignal("start"),dhtmlx.DragControl.ma=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.dc),dhtmlx.DragControl.na=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Ka),dhtmlx.DragControl.dc(a)},Ka:function(a){dhtmlx.DragControl.ma=dhtmlx.eventRemove(dhtmlx.DragControl.ma);dhtmlx.DragControl.na=dhtmlx.eventRemove(dhtmlx.DragControl.na);
dhtmlx.DragControl.s&&(dhtmlx.DragControl.onDrop(dhtmlx.DragControl.C,dhtmlx.DragControl.s,this.S,a),dhtmlx.DragControl.onDragOut(dhtmlx.DragControl.C,dhtmlx.DragControl.s,null,a));dhtmlx.DragControl.destroyDrag();dhtmlx.DragControl.sendSignal("stop")},dc:function(a){var b=dhtmlx.html.pos(a);dhtmlx.DragControl.z.style.top=b.y+dhtmlx.DragControl.top+"px";dhtmlx.DragControl.z.style.left=b.x+dhtmlx.DragControl.left+"px";dhtmlx.DragControl.mc?dhtmlx.DragControl.mc=!1:dhtmlx.DragControl.za(a.srcElement||
a.target,a);a.cancelBubble=!0;return!1},za:function(a,b){for(;a&&a.tagName!="BODY";){if(a.dhx_drop){if(this.s&&(this.s!=a||a.dhx_master))this.onDragOut(this.C,this.s,a,b);if(!this.s||this.s!=a||a.dhx_master)if(this.s=null,this.S=this.onDragIn(dhtmlx.DragControl.C,a,b))this.s=a;return}a=a.parentNode}if(this.s)this.s=this.S=this.onDragOut(this.C,this.s,null,b)},sendSignal:function(a){dhtmlx.DragControl.active=a=="start"},getMaster:function(a){return this.F[a.dhx_drag||a.dhx_drop]},getContext:function(){return this.D},
createDrag:function(a){var b=dhtmlx.DragControl.C,c=this.F[b.dhx_drag],d;if(c.onDragCreate)d=c.onDragCreate(b,a),d.style.position="absolute",d.style.zIndex=dhtmlx.zIndex.drag,d.onmousemove=dhtmlx.DragControl.nc;else{var e=dhtmlx.DragControl.onDrag(b,a);if(!e)return!1;d=document.createElement("DIV");d.innerHTML=e;d.className="dhx_drag_zone";d.onmousemove=dhtmlx.DragControl.nc;document.body.appendChild(d)}dhtmlx.DragControl.z=d;return!0},nc:function(){dhtmlx.DragControl.mc=!0},destroyDrag:function(){var a=
dhtmlx.DragControl.C,b=this.F[a.dhx_drag];if(b&&b.onDragDestroy)b.onDragDestroy(a,dhtmlx.DragControl.z);else dhtmlx.html.remove(dhtmlx.DragControl.z);dhtmlx.DragControl.S=dhtmlx.DragControl.C=dhtmlx.DragControl.s=dhtmlx.DragControl.z=null},top:5,left:5,onDragIn:function(a,b,c){var d=this.F[b.dhx_drop];if(d.onDragIn&&d!=this)return d.onDragIn(a,b,c);b.className+=" dhx_drop_zone";return b},onDragOut:function(a,b,c,d){var e=this.F[b.dhx_drop];if(e.onDragOut&&e!=this)return e.onDragOut(a,b,c,d);b.className=
b.className.replace("dhx_drop_zone","");return null},onDrop:function(a,b,c,d){var e=this.F[b.dhx_drop];dhtmlx.DragControl.D.from=dhtmlx.DragControl.getMaster(a);if(e.onDrop&&e!=this)return e.onDrop(a,b,c,d);b.appendChild(a)},onDrag:function(a,b){var c=this.F[a.dhx_drag];if(c.onDrag&&c!=this)return c.onDrag(a,b);dhtmlx.DragControl.D={source:a,from:a};return"<div style='"+a.style.cssText+"'>"+a.innerHTML+"</div>"}};
dhtmlx.DragItem={n:function(){if(!this.e||this.e.drag)dhtmlx.DragItem.Yb(this);else if(this.e)this.drag_setter=function(a){a&&(this.Yb(this),delete this.drag_setter);return a};this.dragMarker&&(this.attachEvent("onBeforeDragIn",this.dragMarker),this.attachEvent("onDragOut",this.dragMarker))},Yb:function(a){dhtmlx.DragControl.addDrop(a.g,a,!0);dhtmlx.DragControl.addDrag(a.g,a)},onDragIn:function(a,b,c){var d=this.locate(c)||null,e=dhtmlx.DragControl.D,f=dhtmlx.DragControl.getMaster(a),g=this.B(d)||
this.g;if(g==dhtmlx.DragControl.S)return g;e.target=d;e.to=f;if(!this.callEvent("onBeforeDragIn",[e,c]))return e.id=null;dhtmlx.html.addCss(g,"dhx_drag_over");return g},onDragOut:function(a,b,c,d){var e=this.locate(d)||null;c!=this.j&&(e=null);var f=this.B(e)||(c?dhtmlx.DragControl.getMaster(c).g:window.undefined);if(f==dhtmlx.DragControl.S)return null;var g=dhtmlx.DragControl.D;dhtmlx.html.removeCss(dhtmlx.DragControl.S,"dhx_drag_over");g.target=g.to=null;this.callEvent("onDragOut",[g,d]);return null},
onDrop:function(a,b,c,d){var e=dhtmlx.DragControl.D;e.to=this;e.index=e.target?this.indexById(e.target):this.dataCount();e.new_id=dhtmlx.uid();this.callEvent("onBeforeDrop",[e,d])&&(e.from==e.to?this.move(e.source,e.index):e.from&&e.from.move(e.source,e.index,e.to,e.new_id),this.callEvent("onAfterDrop",[e,d]))},onDrag:function(a,b){var c=this.locate(b),d=[c];if(c){if(this.getSelected){var e=this.getSelected();dhtmlx.PowerArray.find.call(e,c)!=-1&&(d=e)}var f=dhtmlx.DragControl.D={source:d,start:c};
f.from=this;if(this.callEvent("onBeforeDrag",[f,b]))return f.html||this.da(this.get(c))}return null}};
dhtmlx.EditAbility={n:function(){this.qa=this.I=null;this.attachEvent("onEditKeyPress",function(a,b,c){a==13&&!c?this.stopEdit():a==27&&this.stopEdit(!0)});this.attachEvent("onBeforeRender",function(){this.stopEdit()})},isEdit:function(){return this.I},edit:function(a){if(this.stopEdit(!1,a)&&this.callEvent("onBeforeEditStart",[a])){var b=this.data.get(a);if(!b.$template)b.$template="edit",this.data.refresh(a),this.I=a,this.Ld(a),this.qa(!0,b),this.callEvent("onAfterEditStart",[a])}},stopEdit:function(a,
b){if(!this.I)return!0;if(this.I==b)return!1;var c={};a?c=null:this.qa(!1,c);if(!this.callEvent("onBeforeEditStop",[this.I,c]))return!1;var d=this.data.get(this.I);d.$template=null;a||this.qa(!1,d);var e=this.I;this.qa=this.I=null;this.data.refresh(e);this.callEvent("onAfterEditStop",[e,c]);return!0},Ld:function(a){var b=this.B(a),c="",d="",e=[];if(b){for(var f=b.getElementsByTagName("*"),g="",h=0;h<f.length;h++)if(f[h].nodeType==1&&(g=f[h].getAttribute("bind")))c+="els["+e.length+"].value="+g+";",
d+=g+"=els["+e.length+"].value;",e.push(f[h]),f[h].className+=" dhx_allow_selection",f[h].onselectstart=this.wc;f=null}c=Function("obj","els",c);d=Function("obj","els",d);this.qa=function(a,b){a?(c(b,e),e.length&&e[0].select&&e[0].select()):d(b,e)}},wc:function(a){return(a||event).cancelBubble=!0}};
dhtmlx.KeyEvents={n:function(){dhtmlx.event(this.g,"keypress",this.xd,this)},xd:function(a){var a=a||event,b=a.which||a.keyCode;this.callEvent(this.I?"onEditKeyPress":"onKeyPress",[b,a.ctrlKey,a.shiftKey,a])}};
dhtmlx.MouseEvents={n:function(){this.on_click&&(dhtmlx.event(this.g,"click",this.ud,this),dhtmlx.event(this.g,"contextmenu",this.vd,this));this.on_dblclick&&dhtmlx.event(this.g,"dblclick",this.wd,this);this.on_mouse_move&&(dhtmlx.event(this.g,"mousemove",this.fc,this),dhtmlx.event(this.g,dhtmlx.w?"mouseleave":"mouseout",this.fc,this))},ud:function(a){return this.gb(a,this.on_click,"ItemClick")},wd:function(a){return this.gb(a,this.on_dblclick,"ItemDblClick")},vd:function(a){var b=dhtmlx.html.locate(a,
this.A);if(b&&!this.callEvent("onBeforeContextMenu",[b,a]))return dhtmlx.html.preventEvent(a)},fc:function(a){dhtmlx.w&&(a=document.createEventObject(event));this.cc&&window.clearTimeout(this.cc);this.callEvent("onMouseMoving",[a]);this.cc=window.setTimeout(dhtmlx.bind(function(){a.type=="mousemove"?this.yd(a):this.zd(a)},this),500)},yd:function(a){this.gb(a,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[a||event])},zd:function(a){this.callEvent("onMouseOut",[a||event])},gb:function(a,
b,c){for(var a=a||event,d=a.target||a.srcElement,e="",f=null,g=!1;d&&d.parentNode;){if(!g&&d.getAttribute&&(f=d.getAttribute(this.A))){d.getAttribute("userdata")&&this.callEvent("onLocateData",[f,d]);if(!this.callEvent("on"+c,[f,a,d]))return;g=!0}if(e=d.className)if(e=e.split(" "),e=e[0]||e[1],b[e])return b[e].call(this,a,f,d);d=d.parentNode}return g}};
dhtmlx.SelectionModel={n:function(){this.k=dhtmlx.toArray();this.data.attachEvent("onStoreUpdated",dhtmlx.bind(this.Dc,this));this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Cc,this));this.data.attachEvent("onAfterFilter",dhtmlx.bind(this.Bc,this));this.data.attachEvent("onIdChange",dhtmlx.bind(this.ld,this))},ld:function(a,b){for(var c=this.k.length-1;c>=0;c--)this.k[c]==a&&(this.k[c]=b)},Bc:function(){for(var a=this.k.length-1;a>=0;a--){if(this.data.indexById(this.k[a])<0)var b=this.k[a];var c=
this.item(b);c&&delete c.$selected;this.k.splice(a,1);this.callEvent("onSelectChange",[b])}},Dc:function(a,b,c){if(c=="delete")this.k.remove(a);else if(!this.data.dataCount()&&!this.data.h)this.k=dhtmlx.toArray()},Cc:function(){this.e.select&&this.data.each(function(a){a.$selected&&this.select(a.id)},this)},Ia:function(a,b,c){if(!c&&!this.callEvent("onBeforeSelect",[a,b]))return!1;this.data.item(a).$selected=b;c?c.push(a):(b?this.k.push(a):this.k.remove(a),this.lb(a));return!0},select:function(a,
b,c){if(!a)return this.selectAll();if(a instanceof Array)for(var d=0;d<a.length;d++)this.select(a[d],b,c);else if(this.data.exists(a)){if(c&&this.k.length)return this.selectAll(this.k[this.k.length-1],a);if(!b&&(this.k.length!=1||this.k[0]!=a))this.lc=!0,this.unselectAll(),this.lc=!1;this.isSelected(a)?b&&this.unselect(a):this.Ia(a,!0)&&this.callEvent("onAfterSelect",[a])}},unselect:function(a){if(!a)return this.unselectAll();this.isSelected(a)&&this.Ia(a,!1)},selectAll:function(a,b){var c,d=[];c=
a||b?this.data.getRange(a||null,b||null):this.data.getRange();c.each(function(a){var b=this.data.item(a.id);b.$selected||(this.k.push(a.id),this.Ia(a.id,!0,d));return a.id},this);this.lb(d)},unselectAll:function(){var a=[];this.k.each(function(b){this.Ia(b,!1,a)},this);this.k=dhtmlx.toArray();this.lb(a)},isSelected:function(a){return this.k.find(a)!=-1},getSelected:function(a){switch(this.k.length){case 0:return a?[]:"";case 1:return a?[this.k[0]]:this.k[0];default:return[].concat(this.k)}},qd:function(a){return a.length>
100||a.length>this.data.dataCount/2},lb:function(a){typeof a!="object"&&(a=[a]);if(a.length){if(this.qd(a))this.data.refresh();else for(var b=0;b<a.length;b++)this.render(a[b],this.data.item(a[b]),"update");this.lc||this.callEvent("onSelectChange",[a])}}};
dhtmlx.RenderStack={n:function(){this.z=document.createElement("DIV")},da:function(a){this.callEvent("onItemRender",[a]);return this.type.bc(a,this.type)+(a.$template?this.type["template_"+a.$template]:this.type.template)(a,this.type)+this.type.ac},wb:function(a){this.z.innerHTML=this.da(a);return this.z.firstChild},B:function(a){if(this.p)return this.p[a];this.p={};for(var b=this.j.childNodes,c=0;c<b.length;c++){var d=b[c].getAttribute(this.A);d&&(this.p[d]=b[c])}return this.B(a)},locate:function(a){return dhtmlx.html.locate(a,
this.A)},show:function(a){var b=this.B(a);if(b)this.j.scrollTop=b.offsetTop-this.j.offsetTop},render:function(a,b,c){if(a){var d=this.B(a);switch(c){case "update":if(!d)return;var e=this.p[a]=this.wb(b);dhtmlx.html.insertBefore(e,d);dhtmlx.html.remove(d);break;case "delete":if(!d)return;dhtmlx.html.remove(d);delete this.p[a];break;case "add":e=this.p[a]=this.wb(b);dhtmlx.html.insertBefore(e,this.B(this.data.next(a)),this.j);break;case "move":this.render(a,b,"delete"),this.render(a,b,"add")}}else if(this.callEvent("onBeforeRender",
[this.data]))this.j.innerHTML=this.data.getRange().map(this.da,this).join(""),this.p=null;this.callEvent("onAfterRender",[])},pager_setter:function(a){this.attachEvent("onBeforeRender",function(){var a=this.e.pager.e;if(a.page==-1)return!1;this.data.min=a.page*a.size;this.data.max=(a.page+1)*a.size-1;return!0});var b=new dhtmlx.ui.pager(a),c=dhtmlx.bind(function(){this.data.refresh()},this);b.attachEvent("onRefresh",c);this.data.attachEvent("onStoreUpdated",function(){var a=this.dataCount();if(a!=
b.e.count){b.e.count=a;if(b.e.page==-1)b.e.page=0;b.refresh()}});return b},height_setter:function(a){a=="auto"&&(this.attachEvent("onAfterRender",this.Cb),dhtmlx.event(window,"resize",dhtmlx.bind(this.Cb,this)));return a},Cb:function(){this.j.style.overflow="hidden";this.j.style.height="1px";var a=this.j.scrollHeight;this.j.style.height=a+"px";if(dhtmlx.Zb){var b=this.j.scrollHeight;if(b!=a)this.j.style.height=b+"px"}this.g.style.height=this.j.style.height},Za:function(){var a=this.type,b=(a.border||
0)+(a.padding||0)*2+(a.margin||0)*2;return{x:a.width+b,y:a.height+b}},x_count_setter:function(a){var b=this.Za();this.j.style.width=b.x*a+(this.e.height!="auto"?18:0)+"px";return a},y_count_setter:function(a){var b=this.Za();this.j.style.height=b.y*a+"px";return a}};
dhtmlx.VirtualRenderStack={n:function(){this.p={};this.j.style.overflowY="scroll";dhtmlx.event(this.j,"scroll",dhtmlx.bind(this.ob,this));dhtmlx.event(window,"resize",dhtmlx.bind(function(){this.render()},this));this.data.ea=[];this.data.getIndexRange=this.ed},B:function(a){return this.p[a]},show:function(a){range=this.cb();var b=this.data.indexById(a),c=Math.floor(b/range.Wa)*range.La;this.j.scrollTop=c},ed:function(a,b){b!==0&&(b=Math.min(b||Infinity,this.dataCount()-1));for(var c=dhtmlx.toArray(),
d=a||0;d<=b;d++){var e=this.item(this.order[d]);this.order.length>d&&(e?e.$template=="loading"&&this.ea.push(this.order[d]):(this.order[d]=dhtmlx.uid(),e={id:this.order[d],$template:"loading"},this.ea.push(this.order[d])),c.push(e))}return c},render:function(a,b,c){if(a){var d=this.B(a);switch(c){case "update":if(!d)break;var e=this.p[a]=this.wb(b);dhtmlx.html.insertBefore(e,d);dhtmlx.html.remove(d);break;default:this.Jd()}}else if(this.callEvent("onBeforeRender",[this.data]))this.p={},this.ob(null,
!0),this.rc=!1,this.callEvent("onAfterRender",[])},Jd:function(){if(!this.rc)this.rc=!0,window.setTimeout(dhtmlx.bind(function(){this.render()},this),1)},Ta:function(a){var b=document.createElement("DIV");b.style.cssText="height:"+a+"px; width:100%; overflow:hidden;";return b},ob:function(a,b){this.data.ea=[];var c=this.cb();if(!this.j.firstChild||b)this.j.innerHTML="",this.j.appendChild(this.Ta(c.rd)),this.N=[this.j.firstChild];for(var d=c.q,e=this.data.max||this.data.max===0?this.data.max:Infinity;d<=
c.eb;){for(;this.N[d]&&this.N[d].$c&&d<=c.eb;)d++;if(d>c.eb)break;for(var f=d;!this.N[f];)f--;var g=this.N[f],h=d*c.Wa+(this.data.min||0);if(h>e)break;var i=Math.min(h+c.Wa-1,e),j=this.Ta(c.La),k=this.data.getIndexRange(h,i);if(!k.length)break;j.innerHTML=k.map(this.da,this).join("");for(var l=0;l<k.length;l++)this.p[this.data.idByIndex(h+l)]=j.childNodes[l];var m=parseInt(g.style.height,10),o=(d-f)*c.La,n=m-o-c.La;dhtmlx.html.insertBefore(j,o?g.nextSibling:g,this.j);this.N[d]=j;j.$c=!0;if(o<=0&&
n>0)g.style.height=n+"px",this.N[d+1]=g;else if(o<0?dhtmlx.html.remove(g):g.style.height=o+"px",n>0){var p=this.N[d+1]=this.Ta(n);dhtmlx.html.insertBefore(p,j.nextSibling,this.j)}d++}if(this.data.ea.length){var q=this.indexById(this.data.ea[0]),r=this.indexById(this.data.ea.pop())+1;if(r>q){if(!this.callEvent("onDataRequest",[q,r-q]))return!1;this.data.feed.call(this,q,r-q)}}if(dhtmlx.w){var s=this.cb();s.q!=c.q&&this.ob()}},cb:function(){var a=this.j.scrollTop,b=Math.max(this.j.scrollWidth,this.j.offsetWidth)-
18,c=this.j.offsetHeight,d=this.type,e=this.Za(),f=Math.floor(b/e.x)||1,g=Math.floor(a/e.y),h=Math.ceil((c+a)/e.y)-1,i=this.data.max?this.data.max-this.data.min:this.data.dataCount(),j=Math.ceil(i/f)*e.y;return{q:g,eb:h,$d:a,rd:j,La:e.y,Wa:f}}};dhtmlx.ajax=function(a,b,c){if(arguments.length!==0){var d=new dhtmlx.ajax;if(c)d.master=c;d.get(a,null,b)}return!this.getXHR?new dhtmlx.ajax:this};
dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx.w?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();typeof c=="function"&&(c=[c]);if(typeof b=="object"){var e=[],f;for(f in b){var g=b[f];if(g===null||g===dhtmlx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&!this.post&&(a=a+(a.indexOf("?")!=-1?"&":"?")+b,b=null);d.open(this.post?"POST":"GET",a,!this.ub);this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var h=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){if(c&&h)for(var a=0;a<c.length;a++)c[a]&&c[a].call(h.master||h,d.responseText,d.responseXML,d);c=h=h.master=null}};d.send(b||null);return d},get:function(a,b,c){this.post=!1;return this.send(a,b,c)},post:function(a,b,c){this.post=!0;return this.send(a,b,c)},sync:function(){this.ub=!0;return this}};
dhtmlx.AtomDataLoader={n:function(a){this.data={};if(a)this.e.datatype=a.datatype||"json",this.Ud.push(this.fb)},fb:function(){this.ta=!0;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.ta)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.ta)return a;this.parse(a,this.e.datatype);return!0},load:function(a,b,c){this.callEvent("onXLS",[]);typeof b=="string"?(this.data.driver=dhtmlx.DataDriver[b],b=c):
this.data.driver=dhtmlx.DataDriver.xml;dhtmlx.ajax(a,[this.V,b],this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhtmlx.DataDriver[b||"xml"];this.V(a,null)},V:function(a,b){var c=this.data.driver,d=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(d):a;this.callEvent("onXLE",[])},ka:function(a){if(!this.e.dataFeed||this.aa||!a)return!0;var b=this.e.dataFeed;if(typeof b=="function")return b.call(this,a.id||a,a);b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||
a);this.callEvent("onXLS",[]);dhtmlx.ajax(b,function(a){this.aa=!0;this.setValues(dhtmlx.DataDriver.json.toObject(a)[0]);this.aa=!1;this.callEvent("onXLE",[])},this);return!1}};dhtmlx.DataDriver={};dhtmlx.DataDriver.json={toObject:function(a){a||(a="[]");return typeof a=="string"?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(a){return a&&!(a instanceof Array)?[a]:a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0,K:a.dhx_security}}};
dhtmlx.DataDriver.json_ext={toObject:function(a){a||(a="[]");if(typeof a=="string"){var b;eval("temp="+a);dhtmlx.temp=[];for(var c=b.header,d=0;d<b.data.length;d++){for(var e={},f=0;f<c.length;f++)typeof b.data[d][f]!="undefined"&&(e[c[f]]=b.data[d][f]);dhtmlx.temp.push(e)}return dhtmlx.temp}return a},getRecords:function(a){return a&&!(a instanceof Array)?[a]:a},getDetails:function(a){return a},getInfo:function(a){return{u:a.total_count||0,q:a.pos||0}}};
dhtmlx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var b=null;a.indexOf("<")==-1&&(b=dhtmlx.toNode(a));if(!b)b=document.createElement("DIV"),b.innerHTML=a;return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){return a.tagName?a.childNodes:a},getDetails:function(a){return dhtmlx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{u:0,q:0}},tag:"LI"};
dhtmlx.DataDriver.jsarray={toObject:function(a){return typeof a=="string"?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}}};
dhtmlx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){for(var a=this.stringToArray(a),b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}},stringToArray:function(a){for(var a=a.split(this.cell),b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhtmlx.DataDriver.xml={toObject:function(a,b){return b&&(b=this.checkResponse(a,b))?b:typeof a=="string"?this.fromString(a):a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{u:a.documentElement.getAttribute("total_count")||0,q:a.documentElement.getAttribute("pos")||0,K:a.documentElement.getAttribute("dhx_security")}},xpath:function(a,b){if(window.XPathResult){var c=a;if(a.nodeName.indexOf("document")==
-1)a=a.ownerDocument;for(var d=[],e=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)d.push(f),f=e.iterateNext();return d}else{var g=!0;try{typeof a.selectNodes=="undefined"&&(g=!1)}catch(h){}if(g)return a.selectNodes(b);else{var i=b.split("/").pop();return a.getElementsByTagName(i)}}},tagToObject:function(a,b){var b=b||{},c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}for(var f=a.childNodes,g={},e=0;e<f.length;e++)if(f[e].nodeType==
1){var h=f[e].tagName;typeof b[h]!="undefined"?(b[h]instanceof Array||(b[h]=[b[h]]),b[h].push(this.tagToObject(f[e],{}))):b[f[e].tagName]=this.tagToObject(f[e],{});c=!0}if(!c)return this.nodeValue(a);b.value=this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){if(window.DOMParser&&!dhtmlx.w)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}},checkResponse:function(a,
b){if(b&&b.firstChild&&b.firstChild.tagName!="parsererror")return b;var c=this.fromString(a.replace(/^[\s]+/,""));if(c)return c}};
dhtmlx.DataLoader={n:function(a){a=a||"";name="DataStore";this.data=a.datastore||new dhtmlx.DataStore;this.kb=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Pa,this))},load:function(a,b){dhtmlx.AtomDataLoader.load.apply(this,arguments);if(!this.data.feed)this.data.feed=function(b,d){if(this.G)return this.G=[b,d];else this.G=!0;this.load(a+(a.indexOf("?")==-1?"?":"&")+"posStart="+b+"&count="+d,function(){var a=this.G;this.G=!1;typeof a=="object"&&this.data.feed.apply(this,a)})}},V:function(a,
b){this.data.ib(this.data.driver.toObject(a,b));this.callEvent("onXLE",[]);if(this.kb)this.data.detachEvent(this.kb),this.kb=null},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(a,c){if(this.e.dataFeed){var d={};if(a||d){if(typeof a=="function"){if(!c)return;a(c,d)}else d={text:c};this.clearAll();var e=this.e.dataFeed;if(typeof e=="function")return e.call(this,c,d);var f=[],g;for(g in d)f.push("dhx_filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(e.indexOf("?")<
0?"?":"&")+f.join("&"),this.e.datatype);return!1}}},this));return a},Pa:function(){if(this.e.ready){var a=dhtmlx.toFunctor(this.e.ready);a&&a.call&&a.apply(this,arguments)}}};dhtmlx.DataStore=function(){this.name="DataStore";dhtmlx.extend(this,dhtmlx.EventSystem);this.setDriver("xml");this.pull={};this.order=dhtmlx.toArray()};
dhtmlx.DataStore.prototype={setDriver:function(a){this.driver=dhtmlx.DataDriver[a]},ib:function(a){this.callEvent("onParse",[this.driver,a]);this.h&&this.filter();var b=this.driver.getInfo(a);if(b.K)dhtmlx.security_key=b.K;var c=this.driver.getRecords(a),d=(b.q||0)*1;if(d===0&&this.order[0])d=this.order.length;for(var e=0,f=0;f<c.length;f++){var g=this.driver.getDetails(c[f]),h=this.id(g);this.pull[h]||(this.order[e+d]=h,e++);this.pull[h]=g;this.extraParser&&this.extraParser(g);this.r&&(this.r.$init?
this.r.$update(g):this.r.$update&&this.r.$update(g))}for(f=0;f<b.u;f++)this.order[f]||(h=dhtmlx.uid(),g={id:h,$template:"loading"},this.pull[h]=g,this.order[f]=h);this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},id:function(a){return a.id||(a.id=dhtmlx.uid())},changeId:function(a,b){this.pull[b]=this.pull[a];this.pull[b].id=b;this.order[this.order.find(a)]=b;this.h&&(this.h[this.h.find(a)]=b);this.callEvent("onIdChange",[a,b]);this.nb&&this.nb(a,b)},get:function(a){return this.item(a)},
set:function(a,b){return this.update(a,b)},item:function(a){return this.pull[a]},update:function(a,b){this.r&&this.r.$update&&this.r.$update(b);if(this.callEvent("onBeforeUpdate",[a,b])===!1)return!1;this.pull[a]=b;this.refresh(a)},refresh:function(a){this.va||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a){this.va=!0;a.call(this);this.va=!1},getRange:function(a,b){a=a?this.indexById(a):this.startOffset||0;b?b=this.indexById(b):
(b=Math.min(this.endOffset||Infinity,this.dataCount()-1),b<0&&(b=0));if(a>b)var c=b,b=a,a=c;return this.getIndexRange(a,b)},getIndexRange:function(a,b){for(var b=Math.min(b||Infinity,this.dataCount()-1),c=dhtmlx.toArray(),d=a||0;d<=b;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(!(a<0||b<0)){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,
b));this.callEvent("onStoreUpdated",[c,d,"move"])}},scheme:function(a){this.r=a},sync:function(a,b,c){typeof b!="function"&&(c=b,b=null);if(dhtmlx.debug_bind)this.debug_sync_master=a;var d=a;if(a.name!="DataStore")a=a.data;var e=dhtmlx.bind(function(d,e,h){if(h!="update"||b)d=null;if(!d)this.order=dhtmlx.toArray([].concat(a.order)),this.h=null,this.pull=a.pull,b&&this.silent(b),this.Da&&this.Da();c?c=!1:this.refresh(d)},this);a.attachEvent("onStoreUpdated",e);this.feed=function(a,b){d.loadNext(b,
a)};e()},add:function(a,b){if(this.r){var a=a||{},c;for(c in this.r)a[c]=a[c]||this.r[c];this.r&&(this.r.$init?this.r.$update(a):this.r.$update&&this.r.$update(a))}var d=this.id(a),e=this.dataCount();if(dhtmlx.isNotDefined(b)||b<0)b=e;b>e&&(b=Math.min(this.order.length,b));if(this.callEvent("onBeforeAdd",[d,a,b])===!1)return!1;if(this.exists(d))return null;this.pull[d]=a;this.order.insertAt(d,b);if(this.h){var f=this.h.length;!b&&this.order.length&&(f=0);this.h.insertAt(d,f)}this.callEvent("onafterAdd",
[d,b]);this.callEvent("onStoreUpdated",[d,a,"add"]);return d},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===!1)return!1;if(!this.exists(a))return null;var c=this.item(a);this.order.remove(a);this.h&&this.h.remove(a);delete this.pull[a];this.callEvent("onafterdelete",[a]);this.callEvent("onStoreUpdated",[a,c,"delete"])}},clearAll:function(){this.pull={};this.order=dhtmlx.toArray();this.h=this.feed=null;this.callEvent("onClearAll",
[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){var b=this.order.find(a);return b},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;typeof a=="function"?d={as:a,dir:b}:typeof a=="string"&&(d={by:a,dir:b,as:c});var e=[d.by,d.dir,d.as];if(this.callEvent("onbeforesort",
e)){if(this.order.length){var f=dhtmlx.sort.create(d),g=this.getRange(this.first(),this.last());g.sort(f);this.order=g.map(function(a){return this.id(a)},this)}this.refresh();this.callEvent("onaftersort",e)}},filter:function(a,b){if(this.callEvent("onBeforeFilter",[a,b])){if(this.h)this.order=this.h,delete this.h;if(this.order.length){if(a){var c=a,b=b||"";typeof a=="string"&&(a=dhtmlx.Template.fromHTML(a),b=b.toString().toLowerCase(),c=function(b,c){return a(b).toLowerCase().indexOf(c)!=-1});for(var d=
dhtmlx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];c(this.item(f),b)&&d.push(f)}this.h=this.order;this.order=d}this.refresh();this.callEvent("onAfterFilter",[])}}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="get,set,sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize".split(","),
d=0;d<c.length;d++)a[c[d]]=dhtmlx.methodPush(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}};
dhtmlx.sort={create:function(a){return dhtmlx.sort.dir(a.dir,dhtmlx.sort.by(a.by,a.as))},as:{"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},by:function(a,b){if(!a)return b;typeof b!="function"&&(b=dhtmlx.sort.as[b||"string"]);a=dhtmlx.Template.fromHTML(a);return function(c,d){return b(a(c),a(d))}},dir:function(a,
b){return a=="asc"?b:function(a,d){return b(a,d)*-1}}};if(!dhtmlx.attaches)dhtmlx.attaches={};dhtmlx.attaches.attachAbstract=function(a,b){var c=document.createElement("DIV");c.id="CustomObject_"+dhtmlx.uid();c.style.width="100%";c.style.height="100%";c.cmp="grid";document.body.appendChild(c);this.attachObject(c.id);b.container=c.id;var d=this.vs[this.av];d.grid=new window[a](b);d.gridId=c.id;d.gridObj=c;d.grid.setSizes=function(){this.resize?this.resize():this.render()};var e="_viewRestore";return this.vs[this[e]()].grid};
dhtmlx.attaches.attachDataView=function(a){return this.attachAbstract("dhtmlXDataView",a)};dhtmlx.attaches.attachChart=function(a){return this.attachAbstract("dhtmlXChart",a)};dhtmlx.compat.layout=function(){};
dhtmlXDataView=function(a){this.name="DataView";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.jb(a,"dhx_dataview");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.RenderStack);dhtmlx.extend(this,dhtmlx.SelectionModel);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.KeyEvents);dhtmlx.extend(this,dhtmlx.EditAbility);dhtmlx.extend(this,dhtmlx.DataMove);dhtmlx.extend(this,dhtmlx.DragItem);
dhtmlx.extend(this,dhtmlx.DataProcessor);dhtmlx.extend(this,dhtmlx.AutoTooltip);dhtmlx.extend(this,dhtmlx.Destruction);this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render.apply(this,arguments)},this));this.H(a,{drag:!1,edit:!1,select:"multiselect",type:"default"});this.e.height!="auto"&&!this.e.renderAll&&dhtmlx.extend(this,dhtmlx.VirtualRenderStack);this.data.provideApi(this,!0)};
dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(a){var b=this.B(a.target);if(this.type.drag_marker){if(this.Ua)this.Ua.style.backgroundImage="",this.Ua.style.backgroundRepeat="";if(b)b.style.backgroundImage="url("+(dhtmlx.image_path||"")+this.type.drag_marker+")",b.style.backgroundRepeat="no-repeat",this.Ua=b}if(b&&this.e.auto_scroll){var c=b.offsetTop,d=b.offsetHeight,e=this.g.scrollTop,
f=this.g.offsetHeight;c-d>=0&&c-d*0.75<e?e=Math.max(c-d,0):c+d/0.75>e+f&&(e+=d);this.g.scrollTop=e}return!0},A:"dhx_f_id",on_click:{dhx_dataview_item:function(a,b){this.stopEdit(!1,b)&&this.e.select&&(this.e.select=="multiselect"?this.select(b,a.ctrlKey,a.shiftKey):this.select(b))}},on_dblclick:{dhx_dataview_item:function(a,b){this.e.edit&&this.edit(b)}},on_mouse_move:{},types:{"default":{css:"default",template:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>"),
template_edit:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>"),template_loading:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>"),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML("<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>"),
template_item_end:dhtmlx.Template.fromHTML("</div>")};dhtmlx.compat("layout");dhtmlx.math={};dhtmlx.math.Td="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(",");dhtmlx.math.toHex=function(a,b){a=parseInt(a,10);for(str="";a>0;)str=this.Td[a%16]+str,a=Math.floor(a/16);for(;str.length<b;)str="0"+str;return str};dhtmlx.math.hexToDec=function(a){return parseInt(a,16)};
dhtmlx.math.toRgb=function(a){var b,c,d,e;typeof a!="string"?(b=a[0],c=a[1],d=a[2]):a.indexOf("rgb")!=-1?(e=a.substr(a.indexOf("(")+1,a.lastIndexOf(")")-a.indexOf("(")-1).split(","),b=e[0],c=e[1],d=e[2]):(a.substr(0,1)=="#"&&(a=a.substr(1)),b=this.hexToDec(a.substr(0,2)),c=this.hexToDec(a.substr(2,2)),d=this.hexToDec(a.substr(4,2)));b=parseInt(b,10)||0;c=parseInt(c,10)||0;d=parseInt(d,10)||0;if(b<0||b>255)b=0;if(c<0||c>255)c=0;if(d<0||d>255)d=0;return[b,c,d]};
dhtmlx.math.hsvToRgb=function(a,b,c){var d,e,f,g,h,i,j,k;d=Math.floor(a/60)%6;e=a/60-d;f=c*(1-b);g=c*(1-e*b);h=c*(1-(1-e)*b);k=j=i=0;switch(d){case 0:i=c;j=h;k=f;break;case 1:i=g;j=c;k=f;break;case 2:i=f;j=c;k=h;break;case 3:i=f;j=g;k=c;break;case 4:i=h;j=f;k=c;break;case 5:i=c,j=f,k=g}i=Math.floor(i*255);j=Math.floor(j*255);k=Math.floor(k*255);return[i,j,k]};
dhtmlx.math.rgbToHsv=function(a,b,c){var d,e,f,g,h,i,j,k;d=a/255;e=b/255;f=c/255;g=Math.min(d,e,f);h=Math.max(d,e,f);j=0;i=h==0?0:1-g/h;k=h;h==g?j=0:h==d&&e>=f?j=60*(e-f)/(h-g)+0:h==d&&e<f?j=60*(e-f)/(h-g)+360:h==e?j=60*(f-d)/(h-g)+120:h==f&&(j=60*(d-e)/(h-g)+240);return[j,i,k]};if(!dhtmlx.presets)dhtmlx.presets={};
dhtmlx.presets.chart={simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",radius:2,
borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:0.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:0.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},column:{color:"RAINBOW",
gradient:!1,width:45,radius:0,alpha:1,border:!0},stick:{width:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",width:70,gradient:"falling",radius:0,alpha:0.5,border:!0}};dhtmlx.ui.Map=function(a){this.name="Map";this.A="map_"+dhtmlx.uid();this.K=a;this.T=[]};
dhtmlx.ui.Map.prototype={addRect:function(a,b,c){this.Eb(a,"RECT",b,c)},addPoly:function(a,b){this.Eb(a,"POLY",b)},Eb:function(a,b,c,d){var e="";arguments.length==4&&(e="userdata='"+d+"'");this.T.push("<area "+this.K+"='"+a+"' shape='"+b+"' coords='"+c.join()+"' "+e+"></area>")},addSector:function(a,b,c,d,e,f,g){var h=[];h.push(d);h.push(Math.floor(e*g));for(var i=b;i<c;i+=Math.PI/18)h.push(Math.floor(d+f*Math.cos(i))),h.push(Math.floor((e+f*Math.sin(i))*g));h.push(Math.floor(d+f*Math.cos(c)));h.push(Math.floor((e+
f*Math.sin(c))*g));h.push(d);h.push(Math.floor(e*g));return this.addPoly(a,h)},render:function(a){var b=dhtmlx.html.create("DIV");b.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;";a.appendChild(b);var c=dhtmlx.w?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";b.innerHTML="<map id='"+this.A+"' name='"+this.A+"'>"+this.T.join("\n")+"</map><img "+c+" class='dhx_map_img' usemap='#"+this.A+"'>";a.p=b;this.T=[]}};
dhtmlx.chart={};
dhtmlx.chart.scatter={pvt_render_scatter:function(a,b,c,d,e,f){if(!this.e.xValue)return null;var g=this.Z(),h=this.Z("h","xValue");e||(this.Rb(a,b,c,d,g.min,g.max),this.Lb(a,b,c,d,h.min,h.max));for(var g={min:this.e.yAxis.start,max:this.e.yAxis.end},h={min:this.e.xAxis.start,max:this.e.xAxis.end},i=this.fd(a,b,c,d,h,g),j=0;j<b.length;j++)this.Tc(a,f,c,d,i,h,g,b[j],e)},fd:function(a,b,c,d,e,f){var g={};g.totalHeight=d.y-c.y;g.totalWidth=d.x-c.x;this.zb(g,e.min,e.max,g.totalWidth,"X");this.zb(g,f.min,
f.max,g.totalHeight,"Y");return g},Tc:function(a,b,c,d,e,f,g,h,i){var j=this.Ab(e,d,c,f,h,"X"),k=this.Ab(e,c,d,g,h,"Y");this.Aa(a,j,k,h,1);var l=this.e,m=l.eventRadius||Math.floor(l.item.radius+1);b.addRect(h.id,[j-m,k-m,j+m,k+m],i)},Ab:function(a,b,c,d,e,f){var g=this.e[f=="X"?"xValue":"value"].call(this,e),h=a["valueFactor"+f],i=(parseFloat(g||0)-d.min)*h,j=a["unit"+f],k=c[f.toLowerCase()]-(f=="X"?-1:1)*Math.floor(j*i);i<0&&(k=c[f.toLowerCase()]);g>d.max&&(k=b[f.toLowerCase()]);g<d.min&&(k=c[f.toLowerCase()]);
return k},zb:function(a,b,c,d,e){var f=this.Q(b,c),e=e||"";a["relValue"+e]=f[0];a["valueFactor"+e]=f[1];a["unit"+e]=a["relValue"+e]?d/a["relValue"+e]:10}};
dhtmlx.chart.radar={pvt_render_radar:function(a,b,c,d,e,f){this.Id(a,b,c,d,e,f)},Id:function(a,b,c,d,e,f){if(b.length){for(var g=this.$a(c,d),h=this.e.radius?this.e.radius:g.radius,i=this.e.x?this.e.x:g.x,j=this.e.y?this.e.y:g.y,k=[],l=0;l<b.length;l++)k.push(1);var m=this.Ub(k,b.length);e||this.Pc(a,m,i,j,h,b);this.Qc(a,m,i,j,h,b,e,f)}},Qc:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,o,n,p,q,r,s,A,y,x,t,v,w,u,B,C;l=this.e;o=l.yAxis.start;n=l.yAxis.end;C=this.Q(o,n);B=(y=C[0])?e/y:e/2;u=C[1];i=j=x=-Math.PI/
2;r=[];for(m=0;m<f.length;m++)w?v=w:(t=l.value(f[m]),v=w||(parseFloat(t||0)-o)*u),s=Math.floor(B*v),t=l.value(m!=f.length-1?f[m+1]:f[0]),w=(parseFloat(t||0)-o)*u,A=Math.floor(B*w),i=j,j=m!=f.length-1?x+b[m]-1.0E-4:x,p=q||this.P(i,c,d,s),q=this.P(j,c,d,A),k=l.eventRadius||parseInt(l.item.radius.call(this,f[m]),10)+l.item.borderWidth,h.addRect(f[m].id,[p.x-k,p.y-k,p.x+k,p.y+k],g),r.push(p);l.fill&&this.Zc(a,r,f);l.disableLines||this.Rd(a,r,f);l.disableItems||this.Rc(a,r,f);r=null},Rc:function(a,b,c){for(var d=
0;d<b.length;d++)this.Aa(a,b[d].x,b[d].y,c[d])},Zc:function(a,b,c){var d,e;a.globalAlpha=this.e.alpha.call(this,{});a.beginPath();for(var f=0;f<b.length;f++)a.fillStyle=this.e.fill.call(this,c[f]),d=b[f],e=b[f+1]||b[0],f||a.moveTo(d.x,d.y),a.lineTo(e.x,e.y);a.fill();a.globalAlpha=1},Rd:function(a,b,c){for(var d,e,f=0;f<b.length;f++)d=b[f],e=b[f+1]||b[0],this.l(a,d.x,d.y,e.x,e.y,this.e.line.color.call(this,c[f]),this.e.line.width)},Pc:function(a,b,c,d,e,f){var g=this.e.yAxis,h=this.e.xAxis,i=g.start,
j=g.end,k=g.step,l={},m=this.e.configYAxis;if(typeof m.step=="undefined"||typeof m.start=="undefined"||typeof m.end=="undefined"){var o=this.Z(),l=this.Oa(o.min,o.max),i=l.start,j=l.end,k=l.step;g.end=j;g.start=i}var n=[],p,q,r,s=0,A=e*k/(j-i),y,x;k<1&&(y=Math.min(this.ba(k),i<=0?0:this.ba(i)),x=Math.pow(10,-y));var t=[];for(p=j;p>=i;p-=k){l.fixNum&&(p=parseFloat((new Number(p)).toFixed(l.fixNum)));n.push(Math.floor(s*A)+0.5);x&&(p=Math.round(p*x)/x);var v=d-e+n[n.length-1];this.renderTextAt("middle",
"left",c,v,g.template(p.toString()),"dhx_axis_item_y dhx_radar");if(b.length<2){this.Nb(a,"arc",c,d,e-n[n.length-1],-Math.PI/2,3*Math.PI/2,p);return}var w=-Math.PI/2,u=w,B;for(q=0;q<b.length;q++)p==j&&t.push(u),B=w+b[q]-1.0E-4,this.Nb(a,m.lineShape||"line",c,d,e-n[n.length-1],u,B,p,q,f[p]),u=B;s++}for(p=0;p<t.length;p++)r=this.P(t[p],c,d,e),this.l(a,c,d,r.x,r.y,h?h.lineColor.call(this,f[p]):"#cfcfcf",h&&h.lineWidth?h.lineWidth.call(this,f[p]):1),this.Sc(a,c,d,e,t[p],h?h.template.call(this,f[p]):"&nbsp;")},
Nb:function(a,b,c,d,e,f,g,h,i){var j,k;if(e<0)return!1;j=this.P(f,c,d,e);k=this.P(g,c,d,e);var l=this.e.yAxis;if(l.bg)a.beginPath(),a.moveTo(c,d),b=="arc"?a.arc(c,d,e,f,g,!1):(a.lineTo(j.x,j.y),a.lineTo(k.x,k.y)),a.fillStyle=l.bg(h,i),a.moveTo(c,d),a.fill(),a.closePath();if(l.lines(h,i))a.lineWidth=1,a.beginPath(),b=="arc"?a.arc(c,d,e,f,g,!1):(a.moveTo(j.x,j.y),a.lineTo(k.x,k.y)),a.strokeStyle=l.lineColor(h,i),a.stroke()},Sc:function(a,b,c,d,e,f){var g=this.renderText(0,0,f,"dhx_axis_radar_title",
1),h=g.scrollWidth,i=g.offsetHeight,j=0.0010,k=this.P(e,b,c,d+5),l=0,m=0;if(e<0||e>Math.PI)m=-i;e>Math.PI/2&&(l=-h);if(Math.abs(e+Math.PI/2)<j||Math.abs(e-Math.PI/2)<j)l=-h/2;else if(Math.abs(e)<j||Math.abs(e-Math.PI)<j)m=-i/2;g.style.top=k.y+m+"px";g.style.left=k.x+l+"px";g.style.width=h+"px";g.style.whiteSpace="nowrap"}};
dhtmlx.chart.area={pvt_render_area:function(a,b,c,d,e,f){var g=this.xa(a,b,c,d,e),h=this.e.eventRadius||Math.floor(g.cellWidth/2);if(b.length){a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);var i=this.R(b[0],c,d,g),j=this.e.offset?c.x+g.cellWidth*0.5:c.x;a.beginPath();a.moveTo(j,d.y);a.lineTo(j,i);f.addRect(b[0].id,[j-h,i-h,j+h,i+h],e);this.e.yAxis||this.renderTextAt(!1,!this.e.offset?!1:!0,j,i-this.e.labelOffset,this.e.label(b[0]));for(var k=1;k<b.length;k++){var l=
j+Math.floor(g.cellWidth*k)-0.5,m=this.R(b[k],c,d,g);a.lineTo(l,m);f.addRect(b[k].id,[l-h,m-h,l+h,m+h],e);this.e.yAxis||this.renderTextAt(!1,!this.e.offset&&k==b.length-1?"left":"center",l,m-this.e.labelOffset,this.e.label(b[k]))}a.lineTo(j+Math.floor(g.cellWidth*[b.length-1]),d.y);a.lineTo(j,d.y);a.fill()}}};
dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(a,b,c,d,e,f){var g=this.xa(a,b,c,d,e),h=this.e.eventRadius||Math.floor(g.cellWidth/2),i=[];if(b.length){a.globalAlpha=this.e.alpha.call(this,b[0]);a.fillStyle=this.e.color.call(this,b[0]);var j=e?b[0].$startY:d.y,k=this.e.offset?c.x+g.cellWidth*0.5:c.x,l=this.R(b[0],c,d,g)-(e?d.y-j:0);i[0]=l;a.beginPath();a.moveTo(k,j);a.lineTo(k,l);f.addRect(b[0].id,[k-h,l-h,k+h,l+h],e);this.e.yAxis||this.renderTextAt(!1,!0,k,l-this.e.labelOffset,this.e.label(b[0]));
for(var m=1;m<b.length;m++){var o=k+Math.floor(g.cellWidth*m)-0.5,n=this.R(b[m],c,d,g)-(e?d.y-b[m].$startY:0);i[m]=n;a.lineTo(o,n);f.addRect(b[m].id,[o-h,n-h,o+h,n+h],e);this.e.yAxis||this.renderTextAt(!1,!0,o,n-this.e.labelOffset,this.e.label(b[m]))}a.lineTo(k+Math.floor(g.cellWidth*[b.length-1]),j);if(e)for(m=b.length-1;m>=0;m--){var o=k+Math.floor(g.cellWidth*m)-0.5,p=b[m].$startY;a.lineTo(o,p)}else a.lineTo(k+Math.floor(g.cellWidth*(length-1))-0.5,j);a.lineTo(k,j);a.fill();for(m=0;m<b.length;m++)b[m].$startY=
i[m]}}};
dhtmlx.chart.spline={pvt_render_spline:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,o,n,p,q,r,s,A,y;l=this.xa(a,b,c,d,e);h=this.e;j=[];if(b.length){p=h.offset?c.x+l.cellWidth*0.5:c.x;for(i=0;i<b.length;i++)n=!i?p:Math.floor(l.cellWidth*i)-0.5+p,s=this.R(b[i],c,d,l),j.push({x:n,y:s});o=this.gd(j);for(i=0;i<j.length;i++){q=j[i].x;A=j[i].y;if(i<j.length-1){r=j[i+1].x;y=j[i+1].y;for(k=q;k<r;k++)this.l(a,k,this.ab(k,q,i,o.a,o.b,o.c,o.d),k+1,this.ab(k+1,q,i,o.a,o.b,o.c,o.d),h.line.color(b[i]),h.line.width);this.l(a,
r-1,this.ab(k,q,i,o.a,o.b,o.c,o.d),r,y,h.line.color(b[i]),h.line.width)}this.Aa(a,q,A,b[i],h.label(b[i]));m=parseInt(h.item.radius.call(this,b[i-1]),10)||2;g=h.eventRadius||m+1;f.addRect(b[i].id,[q-g,A-g,q+g,A+g],e)}}},gd:function(a){var b,c,d,e,f,g,h,i,j,k;b=[];m=[];k=a.length;for(c=0;c<k-1;c++)b[c]=a[c+1].x-a[c].x,m[c]=(a[c+1].y-a[c].y)/b[c];d=[];e=[];d[0]=0;d[1]=2*(b[0]+b[1]);e[0]=0;e[1]=6*(m[1]-m[0]);for(c=2;c<k-1;c++)d[c]=2*(b[c-1]+b[c])-b[c-1]*b[c-1]/d[c-1],e[c]=6*(m[c]-m[c-1])-b[c-1]*e[c-1]/
d[c-1];f=[];f[k-1]=f[0]=0;for(c=k-2;c>=1;c--)f[c]=(e[c]-b[c]*f[c+1])/d[c];g=[];h=[];i=[];j=[];for(c=0;c<k-1;c++)g[c]=a[c].y,h[c]=-b[c]*f[c+1]/6-b[c]*f[c]/3+(a[c+1].y-a[c].y)/b[c],i[c]=f[c]/2,j[c]=(f[c+1]-f[c])/(6*b[c]);return{a:g,b:h,c:i,d:j}},ab:function(a,b,c,d,e,f,g){return d[c]+(a-b)*(e[c]+(a-b)*(f[c]+(a-b)*g[c]))}};
dhtmlx.chart.barH={pvt_render_barH:function(a,b,c,d,e,f){var g,h,i,j,k=d.x-c.x,l=!!this.e.yAxis,m=!!this.e.xAxis,o=this.Z("h");g=o.max;h=o.min;var n=Math.floor((d.y-c.y)/b.length);e||this.Kb(a,b,c,d,h,g,n);l&&(g=parseFloat(this.e.xAxis.end),h=parseFloat(this.e.xAxis.start));var p=this.Q(h,g);j=p[0];i=p[1];var q=j?k/j:10;if(!l)var r=10,q=j?(k-r)/j:10;var s=parseInt(this.e.width,10);s*this.m.length+4>n&&(s=n/this.m.length-4);var A=Math.floor((n-s*this.m.length)/2),y=typeof this.e.radius!="undefined"?
parseInt(this.e.radius,10):Math.round(s/5),x=!1,t=this.e.gradient;t&&typeof t!="function"?(x=t,t=!1):t&&(t=a.createLinearGradient(c.x,c.y,d.x,c.y),this.e.gradient(t));var v=0;l||this.l(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",1);for(var w=0;w<b.length;w++){var u=parseFloat(this.e.value(b[w]||0));u>g&&(u=g);u-=h;u*=i;var B=c.x,C=c.y+A+w*n+(s+1)*e;if(u<0&&this.e.origin=="auto"||this.e.xAxis&&u===0&&!(this.e.origin!="auto"&&this.e.origin>h))this.renderTextAt("middle","right",B+10,C+s/2+A,this.e.label(b[w]));
else{u<0&&this.e.origin!="auto"&&this.e.origin>h&&(u=0);l||(u+=r/q);var z=t||this.e.color.call(this,b[w]);this.e.border&&this.Jb(a,B,C,s,h,y,q,u,z);a.globalAlpha=this.e.alpha.call(this,b[w]);var D=this.Kc(a,c,B,C,s,h,y,q,u,z,t,x);x!=!1&&this.Lc(a,B,C,s,h,y,q,u,z,x);a.globalAlpha=1;D[3]==C?(this.renderTextAt("middle","left",D[0]-5,D[3]+Math.floor(s/2),this.e.label(b[w])),f.addRect(b[w].id,[D[0],D[3],D[2],D[3]+s],e)):(this.renderTextAt("middle",!1,D[2]+5,D[1]+Math.floor(s/2),this.e.label(b[w])),f.addRect(b[w].id,
[D[0],C,D[2],D[3]],e))}}},ua:function(a,b,c,d,e,f,g,h,i){var j=0;if(e>f*g)var k=(e-f*g)/e,j=-Math.asin(k)+Math.PI/2;a.moveTo(b,c+h);var l=b+f*g-e-(e?0:h);e<f*g&&a.lineTo(l,c+h);var m=c+e;e&&e>0&&a.arc(l,m,e-h,-Math.PI/2+j,0,!1);var o=c+d-e-(e?0:h),n=l+e-(e?h:0);a.lineTo(n,o);var p=l;e&&e>0&&a.arc(p,o,e-h,0,Math.PI/2-j,!1);var q=c+d-h;a.lineTo(b,q);i||a.lineTo(b,c+h);return[n,q]},Kb:function(a,b,c,d,e,f,g){var h=this.Lb(a,b,c,d,e,f);this.Mc(a,b,c,d,g,h)},Mc:function(a,b,c,d,e,f){if(this.e.yAxis){var g,
h=parseInt(f?f:c.x,10)-0.5,i=d.y+0.5,j=c.y;this.l(a,h,i,h,j,this.e.yAxis.color,1);for(var k=0;k<b.length;k++){var l=this.e.origin!="auto"&&this.e.view=="barH"&&parseFloat(this.e.value(b[k]))<this.e.origin;g=j+e/2+k*e;this.renderTextAt("middle",l?!1:"left",l?h+5:h-5,g,this.e.yAxis.template(b[k]),"dhx_axis_item_y",l?0:h-10);this.e.yAxis.lines.call(this,b[k])&&this.l(a,c.x,g,d.x,g,this.e.yAxis.lineColor.call(this,b[k]),1)}this.l(a,c.x+0.5,j+0.5,d.x,j+0.5,this.e.yAxis.lineColor.call(this,{}),1);this.jc(c,
d)}},Lb:function(a,b,c,d,e,f){var g,h={},i=this.e.xAxis;if(i){var j=d.y+0.5,k=c.x-0.5,l=d.x-0.5,m=c.x;this.l(a,k,j,l,j,i.color,1);i.step&&(g=parseFloat(i.step));if(typeof this.e.configXAxis.step=="undefined"||typeof this.e.configXAxis.start=="undefined"||typeof this.e.configXAxis.end=="undefined")h=this.Oa(e,f),e=h.start,f=h.end,g=h.step,this.e.xAxis.end=f,this.e.xAxis.start=e,this.e.xAxis.step=g;if(g!==0){for(var o=(l-k)*g/(f-e),n=0,p=e;p<=f;p+=g){h.fixNum&&(p=parseFloat((new Number(p)).toFixed(h.fixNum)));
var q=Math.floor(k+n*o)+0.5;!(p==e&&this.e.origin=="auto")&&i.lines&&this.l(a,q,j,q,c.y,this.e.xAxis.lineColor.call(this,p),1);p==this.e.origin&&(m=q+1);this.renderTextAt(!1,!0,q,j+2,i.template(p.toString()),"dhx_axis_item_x");n++}this.renderTextAt(!0,!1,k,d.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);i.lines||this.l(a,k,c.y-0.5,l,c.y-0.5,this.e.xAxis.color,0.2);return m}}},Ra:function(a,b,c,d,e,f,g){var h=this.e.yAxis,i=b;h&&this.e.origin!="auto"&&this.e.origin>g&&(b+=
(this.e.origin-g)*e,i=b,d-=this.e.origin-g,d<0&&(d*=-1,a.translate(b,c+f),a.rotate(Math.PI),b=0.5,c=0),b+=0.5);return{value:d,x0:b,y0:c,start:i}},Kc:function(a,b,c,d,e,f,g,h,i,j,k,l){a.save();var m=this.Ra(a,c,d,i,h,e,f);a.fillStyle=j;a.beginPath();var o=this.ua(a,m.x0,m.y0,e,g,h,m.value,this.e.border?1:0);k&&!l&&a.lineTo(b.x+total_width,m.y0+(this.e.border?1:0));a.fill();a.restore();var n=m.y0,p=m.y0!=d?d:o[1],q=m.y0!=d?m.start-o[0]:m.start,r=m.y0!=d?m.start:o[0];return[q,n,r,p]},Jb:function(a,b,
c,d,e,f,g,h,i){a.save();var j=this.Ra(a,b,c,h,g,d,e);a.beginPath();this.qb(a,i);a.globalAlpha=0.9;this.ua(a,j.x0,j.y0,d,f,g,j.value,a.lineWidth/2,1);a.stroke();a.restore()},Lc:function(a,b,c,d,e,f,g,h,i,j){a.save();var k=this.Ra(a,b,c,h,g,d,e),l=this.Ja(a,k.x0,k.y0+d,k.x0+g*k.value,k.y0,j,i,"x");a.fillStyle=l.gradient;a.beginPath();var m=this.ua(a,k.x0,k.y0+l.offset,d-l.offset*2,f,g,k.value,l.offset);a.fill();a.globalAlpha=1;a.restore()}};
dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(a,b,c,d,e,f){var g,h,i,j,k=d.x-c.x,l=!!this.e.yAxis,m=this.bb(b);g=m.max;h=m.min;var o=Math.floor((d.y-c.y)/b.length);e||this.Kb(a,b,c,d,h,g,o);l&&(g=parseFloat(this.e.xAxis.end),h=parseFloat(this.e.xAxis.start));var n=this.Q(h,g);j=n[0];i=n[1];var p=j?k/j:10;if(!l)var q=10,p=j?(k-q)/j:10;var r=parseInt(this.e.width,10);r+4>o&&(r=o-4);var s=Math.floor((o-r)/2),A=0,y=!1,x=this.e.gradient;x&&(y=!0);l||this.l(a,c.x-0.5,c.y,c.x-0.5,d.y,"#000000",
1);for(var t=0;t<b.length;t++){if(!e)b[t].$startX=c.x;var v=parseFloat(this.e.value(b[t]||0));v>g&&(v=g);v-=h;v*=i;var w=c.x,u=c.y+s+t*o;e?w=b[t].$startX:b[t].$startX=w;if(v<0||this.e.yAxis&&v===0)this.renderTextAt("middle",!0,w+10,u+r/2,this.e.label(b[t]));else{l||(v+=q/p);var B=this.e.color.call(this,b[t]);a.globalAlpha=this.e.alpha.call(this,b[t]);a.fillStyle=this.e.color.call(this,b[t]);a.beginPath();var C=this.ua(a,w,u,r,A,p,v,this.e.border?1:0);x&&!y&&a.lineTo(c.x+k,u+(this.e.border?1:0));a.fill();
if(y!=!1){var z=this.Ja(a,w,u+r,w,u,y,B,"x");a.fillStyle=z.gradient;a.beginPath();C=this.ua(a,w,u,r,A,p,v,0);a.fill()}this.e.border&&this.Jb(a,w,u,r,h,A,p,v,B);a.globalAlpha=1;this.renderTextAt("middle",!0,b[t].$startX+(C[0]-b[t].$startX)/2-1,u+(C[1]-u)/2,this.e.label(b[t]));f.addRect(b[t].id,[b[t].$startX,u,C[0],C[1]],e);b[t].$startX=C[0]}}}};
dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(a,b,c,d,e,f){var g,h,i,j,k=d.y-c.y,l=!!this.e.yAxis,m=!!this.e.xAxis,o=this.bb(b);g=o.max;h=o.min;var n=Math.floor((d.x-c.x)/b.length);e||this.Va(a,b,c,d,h,g,n);l&&(g=parseFloat(this.e.yAxis.end),h=parseFloat(this.e.yAxis.start));var p=this.Q(h,g);j=p[0];i=p[1];var q=j?k/j:10,r=parseInt(this.e.width,10);r+4>n&&(r=n-4);var s=Math.floor((n-r)/2),A=this.e.gradient?this.e.gradient:!1;m||this.l(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(var y=0;y<
b.length;y++){var x=parseFloat(this.e.value(b[y]||0));if(x){e||(x-=h);x*=i;var t=c.x+s+y*n,v=d.y;e?v=b[y].$startY:b[y].$startY=v;if(!(v<c.y+1))if(x<0||this.e.yAxis&&x===0)this.renderTextAt(!0,!0,t+Math.floor(r/2),v,this.e.label(b[y]));else{var w=this.e.color.call(this,b[y]);a.globalAlpha=this.e.alpha.call(this,b[y]);a.fillStyle=this.e.color.call(this,b[y]);a.beginPath();var u=this.rb(a,t-(this.e.border?0.5:0),v,r+(this.e.border?0.5:0),q,x,0,c.y);a.fill();if(A){a.save();var B=this.Ja(a,t,v,t+r,u[1],
A,w,"y");a.fillStyle=B.gradient;a.beginPath();u=this.rb(a,t+B.offset,v,r-B.offset*2,q,x,this.e.border?1:0,c.y);a.fill();a.restore()}this.e.border&&(a.save(),this.qb(a,w),a.beginPath(),this.rb(a,t-0.5,v,r+1,q,x,0,c.y,1),a.stroke(),a.restore());a.globalAlpha=1;this.renderTextAt(!1,!0,t+Math.floor(r/2),u[1]+(v-u[1])/2-7,this.e.label(b[y]));f.addRect(b[y].id,[t,u[1],u[0],b[y].$startY||v],e);b[y].$startY=this.e.border?u[1]+1:u[1]}}else if(!b[y].$startY)b[y].$startY=d.y}},rb:function(a,b,c,d,e,f,g,h,i){a.moveTo(b,
c);var j=c-e*f+g;j<h&&(j=h);a.lineTo(b,j);var k=b+d,l=j;a.lineTo(k,l);var m=b+d;a.lineTo(m,c);i||a.lineTo(b,c);return[m,l-2*g]}};
dhtmlx.chart.line={pvt_render_line:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,o,n,p;j=this.xa(a,b,c,d,e);h=this.e;if(b.length){n=this.R(b[0],c,d,j);l=m=h.offset?c.x+j.cellWidth*0.5:c.x;for(i=1;i<=b.length;i++){o=i==b.length-1&&!this.e.offset?d.x:Math.floor(j.cellWidth*i)-0.5+l;if(b.length!=i){p=this.R(b[i],c,d,j);if(!p)continue;this.l(a,m,n,o,p,h.line.color.call(this,b[i-1]),h.line.width);if(h.line&&h.line.shadow)a.globalAlpha=0.3,this.l(a,m+2,n+h.line.width+8,o+2,p+h.line.width+8,"#eeeeee",h.line.width+
3),a.globalAlpha=1}this.Aa(a,m,n,b[i-1],!!h.offset);k=parseInt(h.item.radius.call(this,b[i-1]),10)||2;g=h.eventRadius||k+1;f.addRect(b[i-1].id,[m-g,n-g,m+g,n+g],e);n=p;m=o}}},Aa:function(a,b,c,d,e){var f=this.e.item,g=parseInt(f.radius.call(this,d),10);a.save();if(f.shadow){a.lineWidth=1;a.strokeStyle="#bdbdbd";a.fillStyle="#bdbdbd";for(var h=[0.1,0.2,0.3],i=h.length-1;i>=0;i--)a.globalAlpha=h[i],a.strokeStyle="#d0d0d0",a.beginPath(),this.tb(a,b,c+2*g/3,g+i+1,f.type),a.stroke();a.beginPath();a.globalAlpha=
0.3;a.fillStyle="#bdbdbd";this.tb(a,b,c+2*g/3,g+1,f.type);a.fill()}a.restore();a.lineWidth=f.borderWidth;a.fillStyle=f.color.call(this,d);a.strokeStyle=f.borderColor.call(this,d);a.globalAlpha=f.alpha.call(this,d);a.beginPath();this.tb(a,b,c,g+1,f.type);a.fill();a.stroke();a.globalAlpha=1;e&&this.renderTextAt(!1,!0,b,c-g-this.e.labelOffset,this.e.label.call(this,d))},tb:function(a,b,c,d,e){if(e&&(e=="square"||e=="s"))d*=Math.sqrt(2)/2,a.moveTo(b-d-a.lineWidth/2,c-d),a.lineTo(b+d,c-d),a.lineTo(b+d,
c+d),a.lineTo(b-d,c+d),a.lineTo(b-d,c-d);else if(e&&(e=="diamond"||e=="d")){var f=a.lineWidth>1?a.lineWidth*Math.sqrt(2)/4:0;a.moveTo(b,c-d);a.lineTo(b+d,c);a.lineTo(b,c+d);a.lineTo(b-d,c);a.lineTo(b+f,c-d-f)}else e&&(e=="triangle"||e=="t")?(a.moveTo(b,c-d),a.lineTo(b+Math.sqrt(3)*d/2,c+d/2),a.lineTo(b-Math.sqrt(3)*d/2,c+d/2),a.lineTo(b,c-d)):a.arc(b,c,d,0,Math.PI*2,!0)},R:function(a,b,c,d){var e=d.minValue,f=d.maxValue,g=d.unit,h=d.valueFactor,i=this.e.value(a),j=(parseFloat(i||0)-e)*h;this.e.yAxis||
(j+=d.startValue/g);var k=c.y-Math.floor(g*j);if(j<0)k=c.y;if(i>f)k=b.y;if(i<e)k=c.y;return k},xa:function(a,b,c,d,e){var f={},g;f.totalHeight=d.y-c.y;f.cellWidth=Math.round((d.x-c.x)/(!this.e.offset?b.length-1:b.length));var h=!!this.e.yAxis,i=this.e.view.indexOf("stacked")!=-1?this.bb(b):this.Z();f.maxValue=i.max;f.minValue=i.min;e||this.Va(a,b,c,d,f.minValue,f.maxValue,f.cellWidth);if(h)f.maxValue=parseFloat(this.e.yAxis.end),f.minValue=parseFloat(this.e.yAxis.start);var j=this.Q(f.minValue,f.maxValue);
g=j[0];f.valueFactor=j[1];f.unit=g?f.totalHeight/g:10;f.startValue=0;if(!h&&(f.startValue=10,f.unit!=f.totalHeight))f.unit=g?(f.totalHeight-f.startValue)/g:10;return f}};
dhtmlx.chart.bar={pvt_render_bar:function(a,b,c,d,e,f){var g,h,i,j,k=d.y-c.y,l=!!this.e.yAxis,m=!!this.e.xAxis,o=this.Z();g=o.max;h=o.min;var n=Math.floor((d.x-c.x)/b.length);!e&&(this.e.origin=="auto"||l)&&this.Va(a,b,c,d,h,g,n);l&&(g=parseFloat(this.e.yAxis.end),h=parseFloat(this.e.yAxis.start));var p=this.Q(h,g);j=p[0];i=p[1];var q=j?k/j:j;if(!l&&!(this.e.origin!="auto"&&m))var r=10,q=j?(k-r)/j:r;!e&&this.e.origin!="auto"&&!l&&this.e.origin>h&&this.Qb(a,b,c,d,n,d.y-q*(this.e.origin-h));var s=parseInt(this.e.width,
10);this.m&&s*this.m.length+4>n&&(s=parseInt(n/this.m.length-4,10));var A=Math.floor((n-s*this.m.length)/2),y=typeof this.e.radius!="undefined"?parseInt(this.e.radius,10):Math.round(s/5),x=!1,t=this.e.gradient;t&&typeof t!="function"?(x=t,t=!1):t&&(t=a.createLinearGradient(0,d.y,0,c.y),this.e.gradient(t));m||this.l(a,c.x,d.y+0.5,d.x,d.y+0.5,"#000000",1);for(var v=0;v<b.length;v++){var w=parseFloat(this.e.value(b[v]||0));w>g&&(w=g);w-=h;w*=i;var u=c.x+A+v*n+(s+1)*e,B=d.y+0.5;if(w<0||this.e.yAxis&&
w===0&&!(this.e.origin!="auto"&&this.e.origin>h))this.renderTextAt(!0,!0,u+Math.floor(s/2),B,this.e.label(b[v]));else{!l&&!(this.e.origin!="auto"&&m)&&(w+=r/q);var C=t||this.e.color.call(this,b[v]);a.globalAlpha=this.e.alpha.call(this,b[v]);var z=this.Hc(a,c,u,B,s,h,y,q,w,C,t,x);x&&this.Jc(a,u,B,s,h,y,q,w,C,x);this.e.border&&this.Ic(a,u,B,s,h,y,q,w,C);a.globalAlpha=1;z[0]!=u?this.renderTextAt(!1,!0,u+Math.floor(s/2),z[1],this.e.label(b[v])):this.renderTextAt(!0,!0,u+Math.floor(s/2),z[3],this.e.label(b[v]));
f.addRect(b[v].id,[u,z[3],z[2],z[1]],e)}}},Sa:function(a,b,c,d,e,f,g){var h=this.e.xAxis,i=c;h&&this.e.origin!="auto"&&this.e.origin>g&&(c-=(this.e.origin-g)*e,i=c,d-=this.e.origin-g,d<0&&(d*=-1,a.translate(b+f,c),a.rotate(Math.PI),c=b=0),c-=0.5);return{value:d,x0:parseInt(b,10),y0:parseInt(c,10),start:i}},Hc:function(a,b,c,d,e,f,g,h,i,j,k,l){a.save();a.fillStyle=j;var m=this.Sa(a,c,d,i,h,e,f),o=this.pb(a,m.x0,m.y0,e,g,h,m.value,this.e.border?1:0);k&&!l&&a.lineTo(m.x0+(this.e.border?1:0),b.y);a.fill();
a.restore();var n=m.x0,p=m.x0!=c?c+o[0]:o[0],q=m.x0!=c?m.start-o[1]:d,r=m.x0!=c?m.start:o[1];return[n,q,p,r]},qb:function(a,b){var c,d;d=dhtmlx.math.toRgb(b);c=dhtmlx.math.rgbToHsv(d[0],d[1],d[2]);c[2]/=2;b="rgb("+dhtmlx.math.hsvToRgb(c[0],c[1],c[2])+")";a.strokeStyle=b;if(a.globalAlpha==1)a.globalAlpha=0.9},Ic:function(a,b,c,d,e,f,g,h,i){var j;a.save();j=this.Sa(a,b,c,h,g,d,e);this.qb(a,i);this.pb(a,j.x0,j.y0,d,f,g,j.value,a.lineWidth/2,1);a.stroke();a.restore()},Jc:function(a,b,c,d,e,f,g,h,i,j){a.save();
var k=this.Sa(a,b,c,h,g,d,e),l=this.Ja(a,k.x0,k.y0,k.x0+d,k.y0-g*k.value+2,j,i,"y"),m=this.e.border?1:0;a.fillStyle=l.gradient;this.pb(a,k.x0+l.offset,k.y0,d-l.offset*2,f,g,k.value,l.offset+m);a.fill();a.restore()},pb:function(a,b,c,d,e,f,g,h,i){a.beginPath();var j=0;if(e>f*g){var k=(e-f*g)/e;k<=1&&k>=-1&&(j=-Math.acos(k)+Math.PI/2)}a.moveTo(b+h,c);var l=c-Math.floor(f*g)+e+(e?0:h);e<f*g&&a.lineTo(b+h,l);var m=b+e;e&&e>0&&a.arc(m,l,e-h,-Math.PI+j,-Math.PI/2,!1);var o=b+d-e-(e?0:h),n=l-e+(e?h:0);a.lineTo(o,
n);e&&e>0&&a.arc(o,l,e-h,-Math.PI/2,0-j,!1);var p=b+d-h;a.lineTo(p,c);i||a.lineTo(b+h,c);return[p,n]}};
dhtmlx.chart.pie={pvt_render_pie:function(a,b,c,d,e,f){this.mb(a,b,c,d,1,f)},mb:function(a,b,c,d,e,f){if(b.length){var g=this.$a(c,d),h=this.e.radius?this.e.radius:g.radius;if(!(h<0)){var i=this.max(this.e.value),j=this.hd(b),k=this.Vb(j),l=this.Ub(j,k),m=this.e.x?this.e.x:g.x,o=this.e.y?this.e.y:g.y;e==1&&this.e.shadow&&this.sc(a,m,o,h);o/=e;var n=-Math.PI/2,p=[];a.scale(1,e);if(this.e.gradient){var q=e!=1?m+h/3:m,r=e!=1?o+h/3:o;this.Nd(a,m,o,h,q,r)}for(var s=0;s<b.length;s++)if(j[s]){a.strokeStyle=
this.e.lineColor.call(this,b[s]);a.beginPath();a.moveTo(m,o);p.push(n);alpha1=-Math.PI/2+l[s]-1.0E-4;a.arc(m,o,h,n,alpha1,!1);a.lineTo(m,o);var A=this.e.color.call(this,b[s]);a.fillStyle=A;a.fill();this.e.pieInnerText&&this.Ob(m,o,5*h/6,n,alpha1,e,this.e.pieInnerText(b[s],k),!0);this.e.label&&this.Ob(m,o,h+this.e.labelOffset,n,alpha1,e,this.e.label(b[s]));if(e!=1)this.Db(a,m,o,n,alpha1,h,!0),a.fillStyle="#000000",a.globalAlpha=0.2,this.Db(a,m,o,n,alpha1,h,!1),a.globalAlpha=1,a.fillStyle=A;f.addSector(b[s].id,
n,alpha1,m,o,h,e);n=alpha1}a.globalAlpha=0.8;for(var y,s=0;s<p.length;s++)y=this.P(p[s],m,o,h),this.l(a,m,o,y.x,y.y,this.e.lineColor.call(this,b[s]),2);if(e==1)a.lineWidth=2,a.strokeStyle="#ffffff",a.beginPath(),a.arc(m,o,h+1,0,2*Math.PI,!1),a.stroke();a.globalAlpha=1;a.scale(1,1/e)}}},hd:function(a){for(var b=[],c=0;c<a.length;c++)b.push(parseFloat(this.e.value(a[c])||0));return b},Vb:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b},Ub:function(a,b){for(var c,d=[],e=0,b=b||this.Vb(a),
f=0;f<a.length;f++)c=a[f],d[f]=Math.PI*2*(b?(c+e)/b:1/data.length),e+=c;return d},$a:function(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.x+c/2,f=a.y+d/2,g=Math.min(c/2,d/2);return{x:e,y:f,radius:g}},Db:function(a,b,c,d,e,f,g){a.lineWidth=1;if(d<=0&&e>=0||d>=0&&e<=Math.PI||Math.abs(d-Math.PI)>0.0030&&d<=Math.PI&&e>=Math.PI){d<=0&&e>=0&&(d=0,g=!1,this.Pb(a,b,c,f,d,e));if(d<=Math.PI&&e>=Math.PI)e=Math.PI,g=!1,this.Pb(a,b,c,f,d,e);var h=(this.e.height||Math.floor(f/4))/this.e.cant;a.beginPath();a.arc(b,c,f,d,e,
!1);a.lineTo(b+f*Math.cos(e),c+f*Math.sin(e)+h);a.arc(b,c+h,f,e,d,!0);a.lineTo(b+f*Math.cos(d),c+f*Math.sin(d));a.fill();g&&a.stroke()}},Pb:function(a,b,c,d,e,f){a.beginPath();a.arc(b,c,d,e,f,!1);a.stroke()},sc:function(a,b,c,d){a.globalAlpha=0.5;for(var e="#c4c4c4,#c6c6c6,#cacaca,#dcdcdc,#dddddd,#e0e0e0,#eeeeee,#f5f5f5,#f8f8f8".split(","),f=e.length-1;f>-1;f--)a.beginPath(),a.fillStyle=e[f],a.arc(b+1,c+1,d+f,0,Math.PI*2,!0),a.fill();a.globalAlpha=1},dd:function(a){a.addColorStop(0,"#ffffff");a.addColorStop(0.7,
"#7a7a7a");a.addColorStop(1,"#000000");return a},Nd:function(a,b,c,d,e,f){a.beginPath();var g;typeof this.e.gradient!="function"?(g=a.createRadialGradient(e,f,d/4,b,c,d),g=this.dd(g)):g=this.e.gradient(g);a.fillStyle=g;a.arc(b,c,d,0,Math.PI*2,!0);a.fill();a.globalAlpha=0.7},Ob:function(a,b,c,d,e,f,g,h){var i=this.renderText(0,0,g,0,1);if(i){var j=i.scrollWidth;i.style.width=j+"px";j>a&&(j=a);var k=e-d<0.2?4:8;h&&(k=j/1.8);var l=d+(e-d)/2;c-=(k-8)/2;var m=-k,o=-8,n="right";if(l>=Math.PI/2&&l<Math.PI||
l<=3*Math.PI/2&&l>=Math.PI)m=-j-m+1,n="left";var p=0;!h&&f<1&&l>0&&l<Math.PI&&(p=(this.e.height||Math.floor(c/4))/f);var q=(b+Math.floor((c+p)*Math.sin(l)))*f+o,r=a+Math.floor((c+k/2)*Math.cos(l))+m,s=e<Math.PI/2+0.01,A=d<Math.PI/2;if(A&&s)r=Math.max(r,a+3),e-d<0.2&&(r=a);else if(!A&&!s)r=Math.min(r,a-j);else if(!h&&(l>=Math.PI/2&&l<Math.PI||l<=3*Math.PI/2&&l>=Math.PI))r+=j/3;i.style.top=q+"px";i.style.left=r+"px";i.style.width=j+"px";i.style.textAlign=n;i.style.whiteSpace="nowrap"}}};
dhtmlx.chart.pie3D={pvt_render_pie3D:function(a,b,c,d,e,f){this.mb(a,b,c,d,this.e.cant,f)}};dhtmlx.chart.donut={pvt_render_donut:function(a,b,c,d,e,f){if(b.length){this.mb(a,b,c,d,1,f);var g=this.e,h=this.$a(c,d),i=g.radius?g.radius:h.radius,j=g.innerRadius&&g.innerRadius<i?g.innerRadius:i/3,k=g.x?g.x:h.x,l=g.y?g.y:h.y;a.fillStyle="#ffffff";a.beginPath();a.arc(k,l,j,0,Math.PI*2,!0);a.fill()}}};
dhtmlx.Group={n:function(){this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(){this.e.group&&this.group(this.e.group,!1)},this));this.attachEvent("onBeforeRender",dhtmlx.bind(function(a){this.e.sort&&(a.block(),a.sort(this.e.sort),a.unblock())},this));this.attachEvent("onBeforeSort",dhtmlx.bind(function(){this.e.sort=null},this))},md:function(a,b){a.attachEvent("onClearAll",dhtmlx.bind(function(){this.ungroup(!1);this.block();this.clearAll();this.unblock()},b))},sum:function(a,b){var a=dhtmlx.Template.setter(a),
b=b||this.data,c=0;b.each(function(b){c+=a(b)*1});return c},min:function(a,b){var a=dhtmlx.Template.setter(a),b=b||this.data,c=Infinity;b.each(function(b){a(b)*1<c&&(c=a(b)*1)});return c*1},max:function(a,b){var a=dhtmlx.Template.setter(a),b=b||this.data,c=-Infinity;b.each(function(b){a(b)*1>c&&(c=a(b)*1)});return c},Qd:function(a){var b=function(a,b){a=dhtmlx.Template.setter(a);return a(b[0])},c=dhtmlx.Template.setter(a.by);a.map[c]||(a.map[c]=[c,b]);var d={},e=[];this.data.each(function(a){var b=
c(a);d[b]||(e.push({id:b}),d[b]=dhtmlx.toArray());d[b].push(a)});for(var f in a.map){var g=a.map[f][1]||b;typeof g!="function"&&(g=this[g]);for(var h=0;h<e.length;h++)e[h][f]=g.call(this,a.map[f][0],d[e[h].id])}this.ec=this.data;this.data=new dhtmlx.DataStore;this.data.provideApi(this,!0);this.md(this.data,this);this.parse(e,"json")},group:function(a,b){this.ungroup(!1);this.Qd(a);b!==!1&&this.render()},ungroup:function(a){if(this.ec)this.data=this.ec,this.data.provideApi(this,!0);a!==!1&&this.render()},
group_setter:function(a){return a},sort_setter:function(a){typeof a!="object"&&(a={by:a});this.L(a,{as:"string",dir:"asc"});return a}};dhtmlx.DataDriver.dhtmlxgrid={jd:"_get_cell_value",toObject:function(a){return this.Wb=a},getRecords:function(a){return a.rowsBuffer},getDetails:function(a){for(var b={},c=0;c<this.Wb.getColumnsNum();c++)b["data"+c]=this.Wb[this.jd](a,c);return b},getInfo:function(){return{u:0,q:0}}};
dhtmlx.Canvas={n:function(){this.ya=[]},Cd:function(a){this.v=dhtmlx.html.create("canvas",{width:a.offsetWidth,height:a.offsetHeight});a.appendChild(this.v);!this.v.getContext&&dhtmlx.w&&(dhtmlx.require("thirdparty/excanvas/excanvas.js"),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this.v));return this.v},getCanvas:function(a){return(this.v||this.Cd(this.g)).getContext(a||"2d")},Kd:function(){this.v&&(this.v.setAttribute("width",this.v.parentNode.offsetWidth),this.v.setAttribute("height",
this.v.parentNode.offsetHeight))},renderText:function(a,b,c,d,e){if(c){var f=dhtmlx.html.create("DIV",{"class":"dhx_canvas_text"+(d?" "+d:""),style:"left:"+a+"px; top:"+b+"px;"},c);this.g.appendChild(f);this.ya.push(f);if(e)f.style.width=e+"px";return f}},renderTextAt:function(a,b,c,d,e,f,g){var h=this.renderText.call(this,c,d,e,f,g);if(h){if(a)h.style.top=a=="middle"?parseInt(d-h.offsetHeight/2,10)+"px":d-h.offsetHeight+"px";if(b)h.style.left=b=="left"?c-h.offsetWidth+"px":parseInt(c-h.offsetWidth/
2,10)+"px"}return h},clearCanvas:function(){for(var a=0;a<this.ya.length;a++)this.g.removeChild(this.ya[a]);this.ya=[];if(this.g.p)this.g.p.parentNode.removeChild(this.g.p),this.g.p=null;this.getCanvas().clearRect(0,0,this.v.offsetWidth,this.v.offsetHeight)}};
dhtmlXChart=function(a){this.name="Chart";this.version="3.0";dhtmlx.extend(this,dhtmlx.Settings);this.jb(a,"dhx_chart");dhtmlx.extend(this,dhtmlx.AtomDataLoader);dhtmlx.extend(this,dhtmlx.DataLoader);this.data.provideApi(this,!0);dhtmlx.extend(this,dhtmlx.EventSystem);dhtmlx.extend(this,dhtmlx.MouseEvents);dhtmlx.extend(this,dhtmlx.Destruction);dhtmlx.extend(this,dhtmlx.Canvas);dhtmlx.extend(this,dhtmlx.Group);dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var b in dhtmlx.chart)dhtmlx.extend(this,dhtmlx.chart[b]);
a.preset&&this.definePreset(a);this.H(a,this.defaults);this.m=[this.e];this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render()},this));this.attachEvent("onLocateData",this.Sd)};
dhtmlXChart.prototype={A:"dhx_area_id",on_click:{},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){this.Kd();this.render()},view_setter:function(a){if(typeof this.e.offset=="undefined")this.e.offset=!(a=="area"||a=="stackedArea");a=="radar"&&!this.e.yAxis&&this.define("yAxis",{});a=="scatter"&&(this.e.yAxis||this.define("yAxis",{}),this.e.xAxis||this.define("xAxis",{}));
return a},render:function(){if(this.callEvent("onBeforeRender",[this.data])){this.clearCanvas();this.e.legend&&this.Nc(this.getCanvas(),this.data.getRange(),this.g.offsetWidth);for(var a=this.cd(this.g.offsetWidth,this.g.offsetHeight),b=new dhtmlx.ui.Map(this.A),c=this.e,d=0;d<this.m.length;d++)this.e=this.m[d],this["pvt_render_"+this.e.view](this.getCanvas(),this.data.getRange(),a.start,a.end,d,b);b.render(this.g);this.e=c}},value_setter:dhtmlx.Template.obj_setter,xValue_setter:dhtmlx.Template.obj_setter,
yValue_setter:function(a){this.define("value",a)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(a){typeof a!="function"&&a&&a===!0&&(a="light");return a},colormap:{RAINBOW:function(a){var b=Math.floor(this.indexById(a.id)/this.dataCount()*1536);b==1536&&(b-=1);return this.Dd[Math.floor(b/256)](b%256)}},color_setter:function(a){return this.colormap[a]||
dhtmlx.Template.obj_setter(a)},fill_setter:function(a){return!a||a==0?!1:dhtmlx.Template.obj_setter(a)},definePreset:function(a){this.define("preset",a.preset);delete a.preset},preset_setter:function(a){var b,c,d;this.defaults=dhtmlx.extend({},this.defaults);if(typeof dhtmlx.presets.chart[a]=="object"){d=dhtmlx.presets.chart[a];for(b in d)if(typeof d[b]=="object")if(!this.defaults[b]||typeof this.defaults[b]!="object")this.defaults[b]=dhtmlx.extend({},d[b]);else for(c in this.defaults[b]=dhtmlx.extend({},
this.defaults[b]),d[b])this.defaults[b][c]=d[b][c];else this.defaults[b]=d[b];return a}return!1},legend_setter:function(a){if(!a){if(this.legendObj)this.legendObj.innerHTML="",this.legendObj=null;return!1}typeof a!="object"&&(a={template:a});this.L(a,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",marker:{type:"square",width:15,height:15,radius:3},margin:4,padding:3});a.template=dhtmlx.Template.setter(a.template);return a},defaults:{color:"RAINBOW",alpha:"1",label:!1,value:"{obj.value}",
padding:{},view:"pie",lineColor:"#ffffff",cant:0.5,width:30,labelWidth:100,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto"},item_setter:function(a){typeof a!="object"&&(a={color:a,borderColor:a});this.L(a,dhtmlx.extend({},this.defaults.item));a.alpha=dhtmlx.Template.setter(a.alpha);a.borderColor=dhtmlx.Template.setter(a.borderColor);a.color=dhtmlx.Template.setter(a.color);
a.radius=dhtmlx.Template.setter(a.radius);return a},line_setter:function(a){typeof a!="object"&&(a={color:a});dhtmlx.extend(this.defaults.line,a);a=dhtmlx.extend({},this.defaults.line);a.color=dhtmlx.Template.setter(a.color);return a},padding_setter:function(a){typeof a!="object"&&(a={left:a,right:a,top:a,bottom:a});this.L(a,{left:50,right:20,top:35,bottom:40});return a},xAxis_setter:function(a){if(!a)return!1;typeof a!="object"&&(a={template:a});this.L(a,{title:"",color:"#000000",lineColor:"#cfcfcf",
template:"{obj}",lines:!0});var b=["lineColor","template","lines"];this.Bb(b,a);this.e.configXAxis=dhtmlx.extend({},a);return a},yAxis_setter:function(a){this.L(a,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});var b=["lineColor","template","lines","bg"];this.Bb(b,a);this.e.configYAxis=dhtmlx.extend({},a);return a},Bb:function(a,b){for(var c=0;c<a.length;c++)b[a[c]]=dhtmlx.Template.setter(b[a[c]])},Va:function(a,b,c,d,e,f,g){var h=this.Rb(a,b,c,d,e,f);this.Qb(a,
b,c,d,g,h);return h},Qb:function(a,b,c,d,e,f){if(this.e.xAxis){var g=c.x-0.5,h=parseInt(f?f:d.y,10)+0.5,i=d.x,j,k=!0;this.l(a,g,h,i,h,this.e.xAxis.color,1);for(var l=0;l<b.length;l++){this.e.offset===!0?j=g+e/2+l*e:(j=l==b.length-1?d.x:g+l*e,k=!!l);j=parseInt(j,10)-0.5;var m=this.e.origin!="auto"&&this.e.view=="bar"&&parseFloat(this.e.value(b[l]))<this.e.origin;this.Uc(j,h,b[l],k,m);(this.e.offset||l)&&this.e.xAxis.lines.call(this,b[l])&&this.Vc(a,j,d.y,c.y,b[l])}this.renderTextAt(!0,!1,g,d.y+this.e.padding.bottom-
3,this.e.xAxis.title,"dhx_axis_title_x",d.x-c.x);this.e.xAxis.lines.call(this,{})&&this.e.offset&&this.l(a,i+0.5,d.y,i+0.5,c.y+0.5,this.e.xAxis.color,0.2)}},Rb:function(a,b,c,d,e,f){var g,h={};if(this.e.yAxis){var i=c.x-0.5,j=d.y,k=c.y,l=d.y;this.e.yAxis.step&&(g=parseFloat(this.e.yAxis.step));if(typeof this.e.configYAxis.step=="undefined"||typeof this.e.configYAxis.start=="undefined"||typeof this.e.configYAxis.end=="undefined")h=this.Oa(e,f),e=h.start,f=h.end,g=h.step,this.e.yAxis.end=f,this.e.yAxis.start=
e;this.jc(c,d);if(g!==0){if(f==e)return j;for(var m=(j-k)*g/(f-e),o=0,n=e;n<=f;n+=g){h.fixNum&&(n=parseFloat((new Number(n)).toFixed(h.fixNum)));var p=Math.floor(j-o*m)+0.5;!(n==e&&this.e.origin=="auto")&&this.e.yAxis.lines(n)&&this.l(a,i,p,d.x,p,this.e.yAxis.lineColor(n),1);n==this.e.origin&&(l=p);var q=n;if(g<1)var r=Math.min(this.ba(g),e<=0?0:this.ba(e)),s=Math.pow(10,-r),n=q=Math.round(n*s)/s;this.renderText(0,p-5,this.e.yAxis.template(q.toString()),"dhx_axis_item_y",c.x-5);o++}this.l(a,i,j+1,
i,k,this.e.yAxis.color,1);return l}}},jc:function(a,b){var c="dhx_axis_title_y"+(dhtmlx.w&&dhtmlx.w!=9?" dhx_ie_filter":""),d=this.renderTextAt("middle",!1,0,parseInt((b.y-a.y)/2+a.y,10),this.e.yAxis.title,c);if(d)d.style.left=(dhtmlx.env.transform?(d.offsetHeight-d.offsetWidth)/2:0)+"px"},Oa:function(a,b){if(this.e.origin!="auto"&&this.e.origin<a)a=this.e.origin;var c,d,e;c=(b-a)/8||1;var f=Math.floor(this.ba(c)),g=Math.pow(10,f),h=c/g,h=h>5?10:5;c=parseInt(h,10)*g;if(c>Math.abs(a))d=a<0?-c:0;else{var i=
Math.abs(a),j=Math.floor(this.ba(i)),k=i/Math.pow(10,j);d=Math.ceil(k*10)/10*Math.pow(10,j)-c;for(i>1&&c>0.1&&(d=Math.ceil(d));a<0?d<=a:d>=a;)d-=c;a<0&&(d=-d-2*c)}for(e=d;e<b;)e+=c,e=parseFloat((new Number(e)).toFixed(Math.abs(f)));return{start:d,end:e,step:c,fixNum:Math.abs(f)}},Z:function(a,b){var c,d,e=arguments.length&&a=="h"?this.e.configXAxis:this.e.configYAxis;if(e&&typeof e.end!="undefined"&&typeof e.start!="undefined"&&e.step)c=parseFloat(e.end),d=parseFloat(e.start);else if(c=this.max(this.m[0][b||
"value"]),d=this.min(this.m[0][b||"value"]),this.m.length>1)for(var f=1;f<this.m.length;f++){var g=this.max(this.m[f][b||"value"]),h=this.min(this.m[f][b||"value"]);g>c&&(c=g);h<d&&(d=h)}return{max:c,min:d}},ba:function(a){var b="log";return Math.floor(Math[b](a)/Math.LN10)},Uc:function(a,b,c,d,e){if(this.e.xAxis){var f=this.renderTextAt(e,d,a,b-(e?2:0),this.e.xAxis.template(c));f&&(f.className+=" dhx_axis_item_x")}},Vc:function(a,b,c,d,e){this.e.xAxis&&this.e.xAxis.lines&&this.l(a,b,c,b,d,this.e.xAxis.lineColor.call(this,
e),1)},l:function(a,b,c,d,e,f,g){a.strokeStyle=f;a.lineWidth=g;a.beginPath();a.moveTo(b,c);a.lineTo(d,e);a.stroke();a.lineWidth=1},Q:function(a,b){var c,d,e=1;if(b!=a){d=b-a;if(Math.abs(c)<1)for(;Math.abs(c)<1;)e*=10,d=c*e;c=d}else c=a;return[c,e]},Dd:[function(a){return"#FF"+dhtmlx.math.toHex(a/2,2)+"00"},function(a){return"#FF"+dhtmlx.math.toHex(a/2+128,2)+"00"},function(a){return"#"+dhtmlx.math.toHex(255-a,2)+"FF00"},function(a){return"#00FF"+dhtmlx.math.toHex(a,2)},function(a){return"#00"+dhtmlx.math.toHex(255-
a,2)+"FF"},function(a){return"#"+dhtmlx.math.toHex(a,2)+"00FF"}],addSeries:function(a){var b=this.e;this.e=dhtmlx.extend({},b);this.H(a,{});this.m.push(this.e);this.e=b},Sd:function(a,b){var c;this.xb=b.getAttribute("userdata");if(this.m[this.xb]){for(var d=0;d<this.m.length;d++)(c=this.m[d].tooltip)&&c.disable();(c=this.m[this.xb].tooltip)&&c.enable()}},Nc:function(a,b){var c,d,e,f,g,h,i,j=0,k=0;d=this.e.legend;i=this.e.legend.layout!="x"?"width:"+d.width+"px":"";if(this.legendObj)this.legendObj.innerHTML=
"";e=dhtmlx.html.create("DIV",{"class":"dhx_chart_legend",style:"left:"+j+"px; top:"+k+"px;"+i},"");if(d.padding)e.style.padding=d.padding+"px";this.legendObj=e;this.g.appendChild(e);g=[];if(d.values)for(c=0;c<d.values.length;c++)g.push(this.Mb(e,d.values[c].text));else for(c=0;c<b.length;c++)g.push(this.Mb(e,d.template(b[c])));h=e.offsetWidth;f=e.offsetHeight;this.e.legend.width=h;this.e.legend.height=f;h<this.g.offsetWidth&&(d.layout=="x"&&d.align=="center"&&(j=(this.g.offsetWidth-h)/2),d.align==
"right"&&(j=this.g.offsetWidth-h),d.margin&&d.align!="center"&&(j+=(d.align=="left"?1:-1)*d.margin));f<this.g.offsetHeight&&(d.valign=="middle"&&d.align!="center"&&d.layout!="x"?k=(this.g.offsetHeight-f)/2:d.valign=="bottom"&&(k=this.g.offsetHeight-f),d.margin&&d.valign!="middle"&&(k+=(d.valign=="top"?1:-1)*d.margin));e.style.left=j+"px";e.style.top=k+"px";a.save();for(c=0;c<g.length;c++){var l=g[c],m=d.values?d.values[c].color:this.e.color.call(this,b[c]);this.Oc(a,l.offsetLeft+j,l.offsetTop+k,m,
l.offsetHeight)}a.restore();g=null},Mb:function(a,b){var c="";this.e.legend.layout=="x"&&(c="float:left;");var d=dhtmlx.html.create("DIV",{style:c+"padding-left:"+(10+this.e.legend.marker.width)+"px","class":"dhx_chart_legend_item"},b);a.appendChild(d);return d},Oc:function(a,b,c,d,e){var f=this.e.legend.marker;a.strokeStyle=a.fillStyle=d;a.beginPath();if(f.type=="round"||!f.radius){a.lineWidth=f.height;a.lineCap=f.type;b+=a.lineWidth/2+5;c+=e/2;a.moveTo(b,c);var g=b+f.width-f.height+1;a.lineTo(g,
c)}else{a.lineWidth=1;var h,i;b+=5;c+=e/2-f.height/2;h=b+f.width/2;i=c+f.height/2;a.arc(b+f.radius,c+f.radius,f.radius,Math.PI,3*Math.PI/2,!1);a.lineTo(b+f.width-f.radius,c);a.arc(b+f.width-f.radius,c+f.radius,f.radius,-Math.PI/2,0,!1);a.lineTo(b+f.width,c+f.height-f.radius);a.arc(b+f.width-f.radius,c+f.height-f.radius,f.radius,0,Math.PI/2,!1);a.lineTo(b+f.radius,c+f.height);a.arc(b+f.radius,c+f.height-f.radius,f.radius,Math.PI/2,Math.PI,!1);a.lineTo(b,c+f.radius)}a.stroke();a.fill()},cd:function(a,
b){var c,d,e,f;c=this.e.padding.left;d=this.e.padding.top;e=a-this.e.padding.right;f=b-this.e.padding.bottom;if(this.e.legend){var g=this.e.legend,h=this.e.legend.width,i=this.e.legend.height;g.layout=="x"?g.valign=="center"?g.align=="right"?e-=h:g.align=="left"&&(c+=h):g.valign=="bottom"?f-=i:d+=i:g.align=="right"?e-=h:g.align=="left"&&(c+=h)}return{start:{x:c,y:d},end:{x:e,y:f}}},bb:function(a){var b,c,d,e,f;if(this.e.yAxis&&typeof this.e.yAxis.end!="undefined"&&typeof this.e.yAxis.start!="undefined"&&
this.e.yAxis.step)d=parseFloat(this.e.yAxis.end),e=parseFloat(this.e.yAxis.start);else{for(b=0;b<a.length;b++){a[b].$sum=0;a[b].$min=Infinity;for(c=0;c<this.m.length;c++)if(f=parseFloat(this.m[c].value(a[b])||0),!isNaN(f)&&(a[b].$sum+=f,f<a[b].$min))a[b].$min=f}d=-Infinity;e=Infinity;for(b=0;b<a.length;b++){if(a[b].$sum>d)d=a[b].$sum;if(a[b].$min<e)e=a[b].$min}e>0&&(e=0)}return{max:d,min:e}},Ja:function(a,b,c,d,e,f,g,h){var i,j,k,l,m;f=="light"?(i=h=="x"?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,
c,b,e),i.addColorStop(0,"#FFFFFF"),i.addColorStop(0.9,g),i.addColorStop(1,g),j=2):f=="falling"||f=="rising"?(i=h=="x"?a.createLinearGradient(b,c,d,c):a.createLinearGradient(b,c,b,e),k=dhtmlx.math.toRgb(g),l=dhtmlx.math.rgbToHsv(k[0],k[1],k[2]),l[1]*=0.5,m="rgb("+dhtmlx.math.hsvToRgb(l[0],l[1],l[2])+")",f=="falling"?(i.addColorStop(0,m),i.addColorStop(0.7,g),i.addColorStop(1,g)):f=="rising"&&(i.addColorStop(0,g),i.addColorStop(0.3,g),i.addColorStop(1,m)),j=0):(a.globalAlpha=0.37,j=0,i=h=="x"?a.createLinearGradient(b,
e,b,c):a.createLinearGradient(b,c,d,c),i.addColorStop(0,"#9d9d9d"),i.addColorStop(0.3,"#e8e8e8"),i.addColorStop(0.45,"#ffffff"),i.addColorStop(0.55,"#ffffff"),i.addColorStop(0.7,"#e8e8e8"),i.addColorStop(1,"#9d9d9d"));return{gradient:i,offset:j}},P:function(a,b,c,d){a*=-1;b+=Math.cos(a)*d;c-=Math.sin(a)*d;return{x:b,y:c}}};dhtmlx.compat("layout");
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new j(this))}function b(a,b,c){var d=v.call(arguments,2);return function(){return a.apply(b,d.concat(v.call(arguments)))}}function c(a){var b=a.srcElement;switch(a.propertyName){case "width":b.style.width=b.attributes.width.nodeValue+"px";b.getContext().clearRect();break;case "height":b.style.height=b.attributes.height.nodeValue+"px",b.getContext().clearRect()}}function d(a){var b=a.srcElement;
if(b.firstChild)b.firstChild.style.width=b.clientWidth+"px",b.firstChild.style.height=b.clientHeight+"px"}function e(){return[[1,0,0],[0,1,0],[0,0,1]]}function f(a,b){for(var c=e(),d=0;d<3;d++)for(var f=0;f<3;f++){for(var g=0,h=0;h<3;h++)g+=a[d][h]*b[h][f];c[d][f]=g}return c}function g(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=a.shadowOffsetX;b.shadowOffsetY=
a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function h(a){var b,c=1,a=String(a);if(a.substring(0,3)=="rgb"){var d=a.indexOf("(",3),e=a.indexOf(")",d+1),f=a.substring(d+1,e).split(",");b="#";for(var g=0;g<3;g++)b+=u[Number(f[g])];f.length==4&&a.substr(3,1)=="a"&&(c=f[3])}else b=a;return{color:b,alpha:c}}function i(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}
function j(a){this.m_=e();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=x*1;this.globalAlpha=1;this.canvas=a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function k(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",
cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});a.currentX_=d.x;a.currentY_=d.y}function l(a){for(var b=0;b<3;b++)for(var c=0;c<2;c++)if(!isFinite(a[b][c])||isNaN(a[b][c]))return!1;return!0}function m(a,b,c){if(l(b)&&(a.m_=b,c)){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];a.lineScale_=y(A(d))}}function o(a){this.type_=a;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function n(){}var p=Math,q=p.round,r=p.sin,s=p.cos,A=p.abs,y=p.sqrt,x=10,t=x/2,v=Array.prototype.slice,w={init:function(a){if(/MSIE/.test(navigator.userAgent)&&
!window.opera){var c=a||document;c.createElement("canvas");c.attachEvent("onreadystatechange",b(this.init_,this,c))}},init_:function(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_";b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var c=
a.getElementsByTagName("canvas"),d=0;d<c.length;d++)this.initElement(c[d])},initElement:function(b){if(!b.getContext){b.getContext=a;b.innerHTML="";b.attachEvent("onpropertychange",c);b.attachEvent("onresize",d);var e=b.attributes;e.width&&e.width.specified?b.style.width=e.width.nodeValue+"px":b.width=b.clientWidth;e.height&&e.height.specified?b.style.height=e.height.nodeValue+"px":b.height=b.clientHeight}return b}};w.init();for(var u=[],B=0;B<16;B++)for(var C=0;C<16;C++)u[B*16+C]=B.toString(16)+
C.toString(16);var z=j.prototype;z.clearRect=function(){this.element_.innerHTML=""};z.beginPath=function(){this.currentPath_=[]};z.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};z.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};z.bezierCurveTo=function(a,b,c,d,e,f){var g=this.getCoords_(e,f),h=this.getCoords_(a,b),j=
this.getCoords_(c,d);k(this,h,j,g)};z.quadraticCurveTo=function(a,b,c,d){var e=this.getCoords_(a,b),f=this.getCoords_(c,d),g={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},h={x:g.x+(f.x-this.currentX_)/3,y:g.y+(f.y-this.currentY_)/3};k(this,g,h,f)};z.arc=function(a,b,c,d,e,f){c*=x;var g=f?"at":"wa",h=a+s(d)*c-t,j=b+r(d)*c-t,i=a+s(e)*c-t,k=b+r(e)*c-t;h==i&&!f&&(h+=0.125);var l=this.getCoords_(a,b),m=this.getCoords_(h,j),o=this.getCoords_(i,k);this.currentPath_.push({type:g,
x:l.x,y:l.y,radius:c,xStart:m.x,yStart:m.y,xEnd:o.x,yEnd:o.y})};z.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};z.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=e};z.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+
c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=e};z.createLinearGradient=function(a,b,c,d){var e=new o("gradient");e.x0_=a;e.y0_=b;e.x1_=c;e.y1_=d;return e};z.createRadialGradient=function(a,b,c,d,e,f){var g=new o("gradientradial");g.x0_=a;g.y0_=b;g.r0_=c;g.x1_=d;g.y1_=e;g.r1_=f;return g};z.drawImage=function(a,b){var c,d,e,f,g,h,j,i,k=a.runtimeStyle.width,l=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height="auto";var m=a.width,o=a.height;a.runtimeStyle.width=
k;a.runtimeStyle.height=l;if(arguments.length==3)c=arguments[1],d=arguments[2],g=h=0,j=e=m,i=f=o;else if(arguments.length==5)c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4],g=h=0,j=m,i=o;else if(arguments.length==9)g=arguments[1],h=arguments[2],j=arguments[3],i=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],f=arguments[8];else throw Error("Invalid number of arguments");var n=this.getCoords_(c,d),r=j/2,s=i/2,t=[],u=10,w=10;t.push(" <g_vml_:group",' coordsize="',x*u,",",x*w,'"',
' coordorigin="0,0"',' style="width:',u,"px;height:",w,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",q(n.x/x),",","Dy=",q(n.y/x),"");var v=n,z=this.getCoords_(c+e,d),A=this.getCoords_(c,d+f),B=this.getCoords_(c+e,d+f);v.x=p.max(v.x,z.x,A.x,B.x);v.y=p.max(v.y,z.y,A.y,B.y);t.push("padding:0 ",q(v.x/x),"px ",q(v.y/x),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",
y.join(""),", sizingmethod='clip');")}else t.push("top:",q(n.y/x),"px;left:",q(n.x/x),"px;");t.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',x*e,"px;"," height:",x*f,'px;"',' cropleft="',g/m,'"',' croptop="',h/o,'"',' cropright="',(m-g-j)/m,'"',' cropbottom="',(o-h-i)/o,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",t.join(""))};z.stroke=function(a){var b=[],c=!1,d=h(a?this.fillStyle:this.strokeStyle),e=d.color,f=d.alpha*this.globalAlpha,g=10,j=10;b.push("<g_vml_:shape",
' filled="',!!a,'"',' style="position:absolute;width:',g,"px;height:",j,'px;"',' coordorigin="0 0" coordsize="',x*g," ",x*j,'"',' stroked="',!a,'"',' path="');for(var k=!1,l={x:null,y:null},m={x:null,y:null},o=0;o<this.currentPath_.length;o++){var n=this.currentPath_[o],t;switch(n.type){case "moveTo":t=n;b.push(" m ",q(n.x),",",q(n.y));break;case "lineTo":b.push(" l ",q(n.x),",",q(n.y));break;case "close":b.push(" x ");n=null;break;case "bezierCurveTo":b.push(" c ",q(n.cp1x),",",q(n.cp1y),",",q(n.cp2x),
",",q(n.cp2y),",",q(n.x),",",q(n.y));break;case "at":case "wa":b.push(" ",n.type," ",q(n.x-this.arcScaleX_*n.radius),",",q(n.y-this.arcScaleY_*n.radius)," ",q(n.x+this.arcScaleX_*n.radius),",",q(n.y+this.arcScaleY_*n.radius)," ",q(n.xStart),",",q(n.yStart)," ",q(n.xEnd),",",q(n.yEnd))}if(n){if(l.x==null||n.x<l.x)l.x=n.x;if(m.x==null||n.x>m.x)m.x=n.x;if(l.y==null||n.y<l.y)l.y=n.y;if(m.y==null||n.y>m.y)m.y=n.y}}b.push(' ">');if(a)if(typeof this.fillStyle=="object"){var r=this.fillStyle,s=0,u={x:0,y:0},
v=0,w=1;if(r.type_=="gradient"){var y=r.x0_/this.arcScaleX_,z=r.y0_/this.arcScaleY_,A=r.x1_/this.arcScaleX_,B=r.y1_/this.arcScaleY_,C=this.getCoords_(y,z),J=this.getCoords_(A,B),N=J.x-C.x,O=J.y-C.y,s=Math.atan2(N,O)*180/Math.PI;s<0&&(s+=360);s<1.0E-6&&(s=0)}else{var C=this.getCoords_(r.x0_,r.y0_),F=m.x-l.x,G=m.y-l.y,u={x:(C.x-l.x)/F,y:(C.y-l.y)/G};F/=this.arcScaleX_*x;G/=this.arcScaleY_*x;var K=p.max(F,G),v=2*r.r0_/K,w=2*r.r1_/K-v}var E=r.colors_;E.sort(function(a,b){return a.offset-b.offset});for(var H=
E.length,P=E[0].color,Q=E[H-1].color,R=E[0].alpha*this.globalAlpha,S=E[H-1].alpha*this.globalAlpha,L=[],o=0;o<H;o++){var M=E[o];L.push(M.offset*w+v+" "+M.color)}b.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',P,'"',' color2="',Q,'"',' colors="',L.join(","),'"',' opacity="',S,'"',' g_o_:opacity2="',R,'"',' angle="',s,'"',' focusposition="',u.x,",",u.y,'" />')}else b.push('<g_vml_:fill color="',e,'" opacity="',f,'" />');else{var I=this.lineScale_*this.lineWidth;I<1&&
(f*=I);b.push("<g_vml_:stroke",' opacity="',f,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',i(this.lineCap),'"',' weight="',I,'px"',' color="',e,'" />')}b.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",b.join(""))};z.fill=function(){this.stroke(!0)};z.closePath=function(){this.currentPath_.push({type:"close"})};z.getCoords_=function(a,b){var c=this.m_;return{x:x*(a*c[0][0]+b*c[1][0]+c[2][0])-t,y:x*(a*c[0][1]+b*c[1][1]+c[2][1])-t}};z.save=
function(){var a={};g(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=f(e(),this.m_)};z.restore=function(){g(this.aStack_.pop(),this);this.m_=this.mStack_.pop()};z.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];m(this,f(c,this.m_),!1)};z.rotate=function(a){var b=s(a),c=r(a),d=[[b,c,0],[-c,b,0],[0,0,1]];m(this,f(d,this.m_),!1)};z.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];m(this,f(c,this.m_),!0)};z.transform=function(a,b,c,d,e,
g){var h=[[a,b,0],[c,d,0],[e,g,1]];m(this,f(h,this.m_),!0)};z.setTransform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];m(this,g,!0)};z.clip=function(){};z.arcTo=function(){};z.createPattern=function(){return new n};o.prototype.addColorStop=function(a,b){b=h(b);this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};G_vmlCanvasManager=w;CanvasRenderingContext2D=j;CanvasGradient=o;CanvasPattern=n}();dhtmlx&&dhtmlx.U&&(dhtmlx.U["thirdparty/excanvas/excanvas.js"]=!0);window.dhx||(dhx={});
dhx.version="3.0";dhx.codebase="./";dhx.name="Core";dhx.clone=function(a){var b=dhx.clone.Ya;b.prototype=a;return new b};dhx.clone.Ya=function(){};dhx.extend=function(a,b,c){if(a.oa)return dhx.PowerArray.insertAt.call(a.oa,b,1),a;for(var d in b)if(!a[d]||c)a[d]=b[d];b.defaults&&dhx.extend(a.defaults,b.defaults);b.$init&&b.$init.call(a);return a};
dhx.copy=function(a){var b=a.length?[]:{};arguments.length>1&&(b=arguments[0],a=arguments[1]);for(var c in a)a[c]&&typeof a[c]=="object"&&!dhx.isDate(a[c])?(b[c]=a[c].length?[]:{},dhx.copy(b[c],a[c])):b[c]=a[c];return b};dhx.single=function(a){var b=null,c=function(c){b||(b=new a({}));b.Gd&&b.Gd.apply(b,arguments);return b};return c};
dhx.protoUI=function(){var a=arguments,b=a[0].name,c=function(a){if(!c)return dhx.ui[b].prototype;var e=c.oa;if(e){for(var f=[e[0]],g=1;g<e.length;g++)f[g]=e[g],f[g].oa&&(f[g]=f[g].call(dhx,f[g].name)),f[g].prototype&&f[g].prototype.name&&(dhx.ui[f[g].prototype.name]=f[g]);dhx.ui[b]=dhx.proto.apply(dhx,f);if(c.pa)for(g=0;g<c.pa.length;g++)dhx.Type(dhx.ui[b],c.pa[g]);c=e=null}return this!=dhx?new dhx.ui[b](a):dhx.ui[b]};c.oa=Array.prototype.slice.call(arguments,0);return dhx.ui[b]=c};
dhx.proto=function(){for(var a=arguments,b=a[0],c=!!b.$init,d=[],e=a.length-1;e>0;e--){if(typeof a[e]=="function")a[e]=a[e].prototype;a[e].$init&&d.push(a[e].$init);if(a[e].defaults){var f=a[e].defaults;if(!b.defaults)b.defaults={};for(var g in f)dhx.isUndefined(b.defaults[g])&&(b.defaults[g]=f[g])}if(a[e].type&&b.type)for(g in a[e].type)b.type[g]||(b.type[g]=a[e].type[g]);for(var h in a[e])b[h]||(b[h]=a[e][h])}c&&d.push(b.$init);b.$init=function(){for(var a=0;a<d.length;a++)d[a].apply(this,arguments)};
var i=function(a){this.$ready=[];this.$init(a);this.H&&this.H(a,this.defaults);for(var b=0;b<this.$ready.length;b++)this.$ready[b].call(this)};i.prototype=b;b=a=null;return i};dhx.bind=function(a,b){return function(){return a.apply(b,arguments)}};dhx.require=function(a){dhx.U[a]||(dhx.exec(dhx.ajax().sync().get(dhx.codebase+a).responseText),dhx.U[a]=!0)};dhx.U={};dhx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};
dhx.wrap=function(a,b){return!a?b:function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}};dhx.isUndefined=function(a){return typeof a=="undefined"};dhx.delay=function(a,b,c,d){return window.setTimeout(function(){var d=a.apply(b,c||[]);a=b=c=null;return d},d||1)};dhx.uid=function(){if(!this.W)this.W=(new Date).valueOf();this.W++;return this.W};dhx.toNode=function(a){return typeof a=="string"?document.getElementById(a):a};
dhx.toArray=function(a){return dhx.extend(a||[],dhx.PowerArray,!0)};dhx.toFunctor=function(a){return typeof a=="string"?eval(a):a};dhx.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};dhx.isDate=function(a){return a instanceof Date};dhx.o={};dhx.event=function(a,b,c,d){var a=dhx.toNode(a),e=dhx.uid();d&&(c=dhx.bind(c,d));dhx.o[e]=[a,b,c];a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);return e};
dhx.eventRemove=function(a){if(a){var b=dhx.o[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.o[a]}};dhx.debug_code=function(a){a.call(dhx)};
dhx.EventSystem={$init:function(){if(!this.J)this.J={},this.ra={},this.Xa={}},blockEvent:function(){this.J.ja=!0},unblockEvent:function(){this.J.ja=!1},mapEvent:function(a){dhx.extend(this.Xa,a,!0)},on_setter:function(a){if(a)for(var b in a)typeof a[b]=="function"&&this.attachEvent(b,a[b])},callEvent:function(a,b){if(this.J.ja)return!0;var a=a.toLowerCase(),c=this.J[a.toLowerCase()],d=!0;if(c)for(var e=0;e<c.length;e++)if(c[e].apply(this,b||[])===!1)d=!1;this.Xa[a]&&!this.Xa[a].callEvent(a,b)&&(d=
!1);return d},attachEvent:function(a,b,c){var a=a.toLowerCase(),c=c||dhx.uid(),b=dhx.toFunctor(b),d=this.J[a]||dhx.toArray();d.push(b);this.J[a]=d;this.ra[c]={f:b,t:a};return c},detachEvent:function(a){if(this.ra[a]){var b=this.ra[a].t,c=this.ra[a].f,d=this.J[b];d.remove(c);delete this.ra[a]}},hasEvent:function(a){a=a.toLowerCase();return this.J[a]?!0:!1}};dhx.extend(dhx,dhx.EventSystem);
dhx.PowerArray={removeAt:function(a,b){a>=0&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&b!==0)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhx.env={};
(function(){if(navigator.userAgent.indexOf("Mobile")!=-1)dhx.env.mobile=!0;if(dhx.env.mobile||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1)dhx.env.touch=!0;navigator.userAgent.indexOf("Opera")!=-1?dhx.env.isOpera=!0:(dhx.env.isIE=!!document.all,dhx.env.isFF=!document.all,dhx.env.isWebKit=navigator.userAgent.indexOf("KHTML")!=-1,dhx.env.isSafari=dhx.env.isWebKit&&navigator.userAgent.indexOf("Mac")!=-1);if(navigator.userAgent.toLowerCase().indexOf("android")!=
-1)dhx.env.isAndroid=!0;dhx.env.transform=!1;dhx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","OTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","OTransition","msTransition"]},b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(var d=a[a.names[c]],e=0;e<d.length;e++)if(typeof b.style[d[e]]!="undefined"){dhx.env[a.names[c]]=d[e];break}b.style[dhx.env.transform]="translate3d(0,0,0)";
dhx.env.translate=b.style[dhx.env.transform]?"translate3d":"translate";var f="",g=!1;dhx.env.isOpera&&(f="-o-",g="O");dhx.env.isFF&&(f="-Moz-");dhx.env.isWebKit&&(f="-webkit-");dhx.env.isIE&&(f="-ms-");dhx.env.transformCSSPrefix=f;dhx.env.transformPrefix=g||dhx.env.transformCSSPrefix.replace(/-/gi,"");dhx.env.transitionEnd=dhx.env.transformCSSPrefix=="-Moz-"?"transitionend":dhx.env.transformPrefix+"TransitionEnd"})();
dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
dhx.html={sa:0,denySelect:function(){if(!dhx.sa)dhx.sa=document.onselectstart;document.onselectstart=dhx.html.stopEvent},allowSelect:function(){if(dhx.sa!==0)document.onselectstart=dhx.sa||null;dhx.sa=0},index:function(a){for(var b=0;a=a.previousSibling;)b++;return b},pc:{},createCss:function(a){var b="",c;for(c in a)b+=c+":"+a[c]+";";var d=this.pc[b];d||(d="s"+dhx.uid(),this.addStyle("."+d+"{"+b+"}"),this.pc[b]=d);return d},addStyle:function(a){var b=document.createElement("style");b.setAttribute("type",
"text/css");b.setAttribute("media","screen");b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.getElementsByTagName("head")[0].appendChild(b)},create:function(a,b,c){var b=b||{},d=document.createElement(a),e;for(e in b)d.setAttribute(e,b[e]);if(b.style)d.style.cssText=b.style;if(b["class"])d.className=b["class"];if(c)d.innerHTML=c;return d},getValue:function(a){a=dhx.toNode(a);return!a?"":dhx.isUndefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof
Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b&&b.parentNode?b.parentNode.insertBefore(a,b):c.appendChild(a))},locate:function(a,b){if(a.tagName)var c=a;else a=a||event,c=a.target||a.srcElement;for(;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=
window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{y:Math.round(i),x:Math.round(j)}}else{for(j=i=0;a;)i+=parseInt(a.offsetTop,10),j+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:i,x:j}}},posRelative:function(a){a=a||event;return dhx.isUndefined(a.offsetX)?{x:a.layerX,y:a.layerY}:{x:a.offsetX,y:a.offsetY}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,
y:a.pageY};var b=dhx.env.isIE&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return dhx.html.stopEvent(a)},stopEvent:function(a){(a||event).cancelBubble=!0;return!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(" "+b,"g"),"")}};
dhx.ready=function(a){this.Ed?a.call():this.Fa.push(a)};dhx.Fa=[];(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length)a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhx.codebase=a.slice(0,a.length).join("/")+"/";dhx.event(window,"load",function(){dhx.callEvent("onReady",[]);dhx.delay(function(){dhx.Ed=!0;for(var a=0;a<dhx.Fa.length;a++)dhx.Fa[a].call();dhx.Fa=[]})})})();dhx.locale=dhx.locale||{};
dhx.ready(function(){dhx.event(document.body,"click",function(a){dhx.callEvent("onClick",[a||event])})});
(function(){var a={},b=RegExp("(\\r\\n|\\n)","g"),c=RegExp('(\\")',"g");dhx.Template=function(d){if(typeof d=="function")return d;if(a[d])return a[d];d=(d||"").toString();if(d.indexOf("->")!=-1)switch(d=d.split("->"),d[0]){case "html":d=dhx.html.getValue(d[1]);break;case "http":d=(new dhx.ajax).sync().get(d[1],{uid:dhx.uid()}).responseText}d=(d||"").toString();d=d.replace(b,"\\n");d=d.replace(c,'\\"');d=d.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');d=d.replace(/\{common\.([^}\(]*)\}/g,
"\"+(common.$1||'')+\"");d=d.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj,common):"")+"');d=d.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"');d=d.replace("{obj}",'"+obj+"');d=d.replace(/#([^#'";, ]+)#/gi,'"+(obj.$1)+"');try{a[d]=Function("obj","common",'return "'+d+'";')}catch(e){}return a[d]};dhx.Template.empty=function(){return""};dhx.Template.bind=function(a){return dhx.bind(dhx.Template(a),this)};dhx.Type=function(a,b){if(a.oa){if(!a.pa)a.pa=[];a.pa.push(b)}else{if(typeof a==
"function")a=a.prototype;if(!a.types)a.types={"default":a.type},a.type.name="default";var c=b.name,g=a.type;c&&(g=a.types[c]=dhx.clone(b.baseType?a.types[b.baseType]:a.type));for(var h in b)g[h]=h.indexOf("template")===0?dhx.Template(b[h]):b[h];return c}}})();
dhx.Settings={$init:function(){this.e=this.config={}},define:function(a,b){return typeof a=="object"?this.ca(a):this.la(a,b)},la:function(a,b){var c=this[a+"_setter"];return this.e[a]=c?c.call(this,b,a):b},ca:function(a){if(a)for(var b in a)this.la(b,a[b])},H:function(a,b){var c={};b&&(c=dhx.extend(c,b));typeof a=="object"&&!a.tagName&&dhx.extend(c,a,!0);this.ca(c)},L:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.L(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a},
debug_freid_c_id:!0,debug_freid_a_name:!0};dhx.ajax=function(a,b,c){if(arguments.length!==0){var d=new dhx.ajax;if(c)d.master=c;return d.get(a,null,b)}return!this.getXHR?new dhx.ajax:this};dhx.ajax.count=0;
dhx.ajax.prototype={master:null,getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();dhx.isArray(c)||(c=[c]);if(typeof b=="object"){var e=[],f;for(f in b){var g=b[f];if(g===null||g===dhx.undefined)g="";e.push(f+"="+encodeURIComponent(g))}b=e.join("&")}b&&this.request==="GET"&&(a=a+(a.indexOf("?")!=-1?"&":"?")+b,b=null);d.open(this.request,a,!this.ub);this.request==="POST"&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var h=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){dhx.ajax.count++;if(c&&h)for(var a=0;a<c.length;a++)if(c[a]){var b=c[a].success||c[a];if(d.status>=400||!d.status&&!d.responseText)b=c[a].error;b&&b.call(h.master||h,d.responseText,d.responseXML,d)}c=h=h.master=null}};d.send(b||null);return d},get:function(a,b,c){this.request="GET";return this.send(a,b,c)},post:function(a,b,c){this.request="POST";return this.send(a,b,c)},put:function(a,b,c){this.request="PUT";return this.send(a,
b,c)},del:function(a,b,c){this.request="DELETE";return this.send(a,b,c)},sync:function(){this.ub=!0;return this},bind:function(a){this.master=a;return this}};dhx.send=function(a,b,c){var d=dhx.html.create("FORM",{action:a,method:c||"POST"},""),e;for(e in b){var f=dhx.html.create("INPUT",{type:"hidden",name:e,value:b[e]},"");d.appendChild(f)}d.style.display="none";document.body.appendChild(d);d.submit();document.body.removeChild(d)};
dhx.AtomDataLoader={$init:function(a){this.data={};if(a)this.e.datatype=a.datatype||"json",this.$ready.push(this.fb)},fb:function(){this.ta=!0;this.e.url&&this.url_setter(this.e.url);this.e.data&&this.data_setter(this.e.data)},url_setter:function(a){if(!this.ta)return a;this.load(a,this.e.datatype);return a},data_setter:function(a){if(!this.ta)return a;this.parse(a,this.e.datatype);return!0},debug_freid_c_datatype:!0,debug_freid_c_dataFeed:!0,load:function(a,b,c){if(a.$proxy)a.load(this,typeof b==
"string"?b:"json");else{this.callEvent("onXLS",[]);if(typeof b=="string")this.data.driver=dhx.DataDriver[b],b=c;else if(!this.data.driver)this.data.driver=dhx.DataDriver.json;var d=[{success:this.V}];b&&(dhx.isArray(b)?d.push.apply(d,b):d.push(b));return dhx.ajax(a,d,this)}},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhx.DataDriver[b||"json"];this.V(a,null)},V:function(a,b,c){var d=this.data.driver,e=d.toObject(a,b);if(e){var f=d.getRecords(e)[0];this.data=d?d.getDetails(f):a}else this.hb(a,
b,c);this.callEvent("onXLE",[])},hb:function(a,b,c){this.callEvent("onXLE",[]);this.callEvent("onLoadError",arguments);dhx.callEvent("onLoadError",[a,b,c,this])},ka:function(a){if(!this.e.dataFeed||this.aa||!a)return!0;var b=this.e.dataFeed;if(typeof b=="function")return b.call(this,a.id||a,a);b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);dhx.ajax(b,function(a,b,e){this.aa=!0;var f=dhx.DataDriver.toObject(a,b);f?this.setValues(f.getDetails(f.getRecords()[0])):
this.hb(a,b,e);this.aa=!1;this.callEvent("onXLE",[])},this);return!1}};dhx.DataDriver={};
dhx.DataDriver.json={toObject:function(a){a||(a="[]");if(typeof a=="string"){try{eval("dhx.temp="+a)}catch(b){return null}a=dhx.temp}if(a.data){var c=a.data.config={},d;for(d in a)d!="data"&&(c[d]=a[d]);a=a.data}return a},getRecords:function(a){return a&&!dhx.isArray(a)?[a]:a},getDetails:function(a){return typeof a=="string"?{id:dhx.uid(),value:a}:a},getInfo:function(a){var b=a.config;return!b?{}:{u:b.total_count||0,q:b.pos||0,Ad:b.parent||0,Qa:b.config,K:b.dhx_security}},child:"data"};
dhx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var b=null;a.indexOf("<")==-1&&(b=dhx.toNode(a));if(!b)b=document.createElement("DIV"),b.innerHTML=a;return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d.nodeType==1&&b.push(d)}return b},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{u:0,q:0}},tag:"LI"};
dhx.DataDriver.jsarray={toObject:function(a){return typeof a=="string"?(eval("dhx.temp="+a),dhx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}}};
dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){for(var a=this.stringToArray(a),b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{u:0,q:0}},stringToArray:function(a){for(var a=a.split(this.cell),b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhx.DataDriver.xml={$b:function(a){return!a||!a.documentElement?null:a.getElementsByTagName("parsererror").length?null:a},toObject:function(a){if(this.$b(b))return b;var b=typeof a=="string"?this.fromString(a.replace(/^[\s]+/,"")):a;return this.$b(b)?b:null},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){var b=this.xpath(a,this.config),b=b.length?this.assignTypes(this.tagToObject(b[0],
{})):null;return{u:a.documentElement.getAttribute("total_count")||0,q:a.documentElement.getAttribute("pos")||0,Ad:a.documentElement.getAttribute("parent")||0,Qa:b,K:a.documentElement.getAttribute("dhx_security")||null}},xpath:function(a,b){if(window.XPathResult){var c=a;if(a.nodeName.indexOf("document")==-1)a=a.ownerDocument;for(var d=[],e=a.evaluate(b,c,null,XPathResult.ANY_TYPE,null),f=e.iterateNext();f;)d.push(f),f=e.iterateNext();return d}else{var g=!0;try{typeof a.selectNodes=="undefined"&&(g=
!1)}catch(h){}if(g)return a.selectNodes(b);else{var i=b.split("/").pop();return a.getElementsByTagName(i)}}},assignTypes:function(a){for(var b in a){var c=a[b];typeof c=="object"?this.assignTypes(c):typeof c=="string"&&c!==""&&(c=="true"?a[b]=!0:c=="false"?a[b]=!1:c==c*1&&(a[b]*=1))}return a},tagToObject:function(a,b){var b=b||{},c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}for(var f=a.childNodes,g={},e=0;e<f.length;e++)if(f[e].nodeType==1){var h=f[e].tagName;
typeof b[h]!="undefined"?(dhx.isArray(b[h])||(b[h]=[b[h]]),b[h].push(this.tagToObject(f[e],{}))):b[f[e].tagName]=this.tagToObject(f[e],{});c=!0}if(!c)return this.nodeValue(a);b.value=b.value||this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){try{if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}}catch(c){return null}}};
dhx.debug_code(function(){dhx.debug_load_event=dhx.attachEvent("onLoadError",function(a){a.indexOf("<?php")!==0&&a.indexOf("DHX_ERROR:");dhx.message&&dhx.message({type:"error",text:null,expire:-1})});dhx.ready(function(){var a=document.location.href;a.indexOf("file:")===0&&(dhx.message?dhx.message({type:"error",text:"Please open sample by http,<br>not as file://",expire:-1}):alert("Please open sample by http, not as file://"))})});
dhx.DataLoader=dhx.proto({$init:function(a){a=a||"";this.ga=dhx.toArray();this.data=new dhx.DataStore;this.data.attachEvent("onClearAll",dhx.bind(this.zc,this));this.data.attachEvent("onServerConfig",dhx.bind(this.yc,this));this.data.feed=this.Wc},Wc:function(a,b,c){if(this.G)return this.G=[a,b,c];else this.G=!0;this.Sb=[a,b];this.Yc.call(this,a,b,c)},Yc:function(a,b,c){var d=this.data.url;a<0&&(a=0);this.load(d+(d.indexOf("?")==-1?"?":"&")+(this.dataCount()?"continue=true&":"")+"start="+a+"&count="+
b,[this.Xc,c])},Xc:function(){var a=this.G,b=this.Sb;this.G=!1;typeof a=="object"&&(a[0]!=b[0]||a[1]!=b[1])&&this.data.feed.apply(this,a)},load:function(a,b){var c=dhx.AtomDataLoader.load.apply(this,arguments);this.ga.push(c);if(!this.data.url)this.data.url=a},loadNext:function(a,b,c,d,e){this.e.datathrottle&&!e?(this.qc&&window.clearTimeout(this.qc),this.qc=dhx.delay(function(){this.loadNext(a,b,c,d,!0)},this,0,this.e.datathrottle)):(!b&&b!==0&&(b=this.dataCount()),this.data.url=this.data.url||d,
this.callEvent("onDataRequest",[b,a,c,d])&&this.data.url&&this.data.feed.call(this,b,a,c))},Xd:function(a,b){var c=this.Sb;return this.G&&c&&c[0]<=b&&c[1]+c[0]>=a+b?!0:!1},V:function(a,b,c){this.ga.remove(c);var d=this.data.driver.toObject(a,b);if(d)this.data.ib(d);else return this.hb(a,b,c);this.Pa();this.callEvent("onXLE",[])},removeMissed_setter:function(a){return this.data.Hd=a},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhx.bind(function(a,
c){if(this.e.dataFeed){var d={};if(a||c){if(typeof a=="function"){if(!c)return;a(c,d)}else d={text:c};this.clearAll();var e=this.e.dataFeed,f=[];if(typeof e=="function")return e.call(this,c,d);for(var g in d)f.push("dhx_filter["+g+"]="+encodeURIComponent(d[g]));this.load(e+(e.indexOf("?")<0?"?":"&")+f.join("&"),this.e.datatype);return!1}}},this));return a},debug_freid_c_ready:!0,debug_freid_c_datathrottle:!0,Pa:function(){if(this.e.ready&&!this.Fd){var a=dhx.toFunctor(this.e.ready);a&&dhx.delay(a,
this,arguments);this.Fd=!0}},zc:function(){for(var a=0;a<this.ga.length;a++)this.ga[a].abort();this.ga=dhx.toArray()},yc:function(a){this.ca(a)}},dhx.AtomDataLoader);dhx.DataStore=function(){this.name="DataStore";dhx.extend(this,dhx.EventSystem);this.setDriver("json");this.pull={};this.order=dhx.toArray()};
dhx.DataStore.prototype={setDriver:function(a){this.driver=dhx.DataDriver[a]},ib:function(a){this.callEvent("onParse",[this.driver,a]);this.h&&this.filter();var b=this.driver.getInfo(a);if(b.K)dhx.securityKey=b.K;b.Qa&&this.callEvent("onServerConfig",[b.Qa]);var c=this.driver.getRecords(a);this.nd(b,c);this.gc&&this.kd&&this.kd(this.gc);this.ic&&(this.blockEvent(),this.sort(this.ic),this.unblockEvent());this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},nd:function(a,b){var c=(a.q||0)*
1,d=!0,e=!1;if(c===0&&this.order[0]){if(this.Hd)for(var e={},f=0;f<this.order.length;f++)e[this.order[f]]=!0;d=!1;c=this.order.length}for(var g=0,f=0;f<b.length;f++){var h=this.driver.getDetails(b[f]),i=this.id(h);this.pull[i]?d&&this.order[g+c]&&g++:(this.order[g+c]=i,g++);this.pull[i]?(dhx.extend(this.pull[i],h,!0),this.Ha&&this.Ha(this.pull[i]),e&&delete e[i]):(this.pull[i]=h,this.Ga&&this.Ga(h))}if(e){this.blockEvent();for(var j in e)this.remove(j);this.unblockEvent()}if(!this.order[a.u-1])this.order[a.u-
1]=dhx.undefined},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(a,b){this.pull[a]&&(this.pull[b]=this.pull[a]);this.pull[b].id=b;this.order[this.order.find(a)]=b;this.h&&(this.h[this.h.find(a)]=b);this.callEvent("onIdChange",[a,b]);this.nb&&this.nb(a,b);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,b){dhx.isUndefined(b)&&(b=this.item(a));this.Ha&&this.Ha(b);if(this.callEvent("onBeforeUpdate",[a,b])===!1)return!1;this.pull[a]=b;this.callEvent("onStoreUpdated",
[a,b,"update"])},refresh:function(a){this.va||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,b){this.va=!0;a.call(b||this);this.va=!1},getRange:function(a,b){a=a?this.indexById(a):this.$min||this.startOffset||0;b?b=this.indexById(b):(b=Math.min(this.$max||this.endOffset||Infinity,this.dataCount()-1),b<0&&(b=0));if(a>b)var c=b,b=a,a=c;return this.getIndexRange(a,b)},getIndexRange:function(a,b){for(var b=Math.min(b||
Infinity,this.dataCount()-1),c=dhx.toArray(),d=a||0;d<=b;d++)c.push(this.item(this.order[d]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,b));this.callEvent("onStoreUpdated",[c,d,"move"])},scheme:function(a){this.r=a;this.Ga=a.$init;this.Ha=a.$update;this.hc=a.$serialize;if(a.$group)this.gc=a.$group;this.ic=a.$sort;
delete a.$init;delete a.$update;delete a.$serialize;delete a.$group;delete a.$sort},sync:function(a,b,c){typeof b!="function"&&(c=b,b=null);if(dhx.debug_bind)this.debug_sync_master=a;if(a.name!="DataStore")a=a.data;var d=dhx.bind(function(){this.order=dhx.toArray([].concat(a.order));this.h=null;this.pull=a.pull;b&&this.silent(b);this.Da&&this.Da();c?c=!1:this.refresh()},this);this.wa=[a.attachEvent("onStoreUpdated",d)];d()},add:function(a,b){this.Ga&&this.Ga(a);var c=this.id(a),d=this.order.length;
if(dhx.isUndefined(b)||b<0)b=d;b>d&&(b=Math.min(this.order.length,b));if(this.callEvent("onBeforeAdd",[c,a,b])===!1)return!1;this.pull[c]=a;this.order.insertAt(c,b);if(this.h){var e=this.h.length;!b&&this.order.length&&(e=0);this.h.insertAt(c,e)}this.callEvent("onAfterAdd",[c,b]);this.callEvent("onStoreUpdated",[c,a,"add"]);return c},remove:function(a){if(dhx.isArray(a))for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===!1)return!1;var c=this.item(a);this.order.remove(a);
this.h&&this.h.remove(a);delete this.pull[a];this.callEvent("onAfterDelete",[a]);this.callEvent("onStoreUpdated",[a,c,"delete"])}},clearAll:function(){this.pull={};this.order=dhx.toArray();this.h=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){var b=this.order.find(a);return b},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-
1]},previous:function(a,b){return this.order[this.indexById(a)-(b||1)]},sort:function(a,b,c){var d=a;typeof a=="function"?d={as:a,dir:b}:typeof a=="string"&&(d={by:a.replace(/#/g,""),dir:b,as:c});var e=[d.by,d.dir,d.as];this.callEvent("onBeforeSort",e)&&(this.Pd(d),this.refresh(),this.callEvent("onAfterSort",e))},Pd:function(a){if(this.order.length){var b=this.Od.Ac(a),c=this.getRange(this.first(),this.last());c.sort(b);this.order=c.map(function(a){return this.id(a)},this)}},bd:function(a){if(this.h&&
!a)this.order=this.h,delete this.h;return this.order.length},ad:function(a,b,c){for(var d=dhx.toArray(),e=0;e<this.order.length;e++){var f=this.order[e];a(this.item(f),b)&&d.push(f)}if(!c||!this.h)this.h=this.order;this.order=d},filter:function(a,b,c){if(this.callEvent("onBeforeFilter",[a,b])&&this.bd(c)){if(a){var d=a,b=b||"";typeof a=="string"&&(a=a.replace(/#/g,""),b=b.toString().toLowerCase(),d=function(b,c){return(b[a]||"").toString().toLowerCase().indexOf(c)!=-1});this.ad(d,b,c)}this.refresh();
this.callEvent("onAfterFilter",[])}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},sd:function(a,b){return function(){return a[b].apply(a,arguments)}},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize,sync".split(","),
d=0;d<c.length;d++)a[c[d]]=this.sd(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++){var d=this.pull[a[c]];if(this.hc&&(d=this.hc(d),d===!1))continue;b.push(d)}return b},Od:{Ac:function(a){return this.Fc(a.dir,this.xc(a.by,a.as))},tc:{date:function(a,b){a-=0;b-=0;return a>b?1:a<b?-1:0},"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){if(!b)return 1;if(!a)return-1;
a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},xc:function(a,b){if(!a)return b;typeof b!="function"&&(b=this.tc[b||"string"]);return function(c,d){return b(c[a],d[a])}},Fc:function(a,b){return a=="asc"||!a?b:function(a,d){return b(a,d)*-1}}}};
dhx.BaseBind={debug_freid_ignore:{id:!0},bind:function(a,b,c){typeof a=="string"&&(a=dhx.ui.get(a));a.i&&a.i();this.i&&this.i();a.getBindData||dhx.extend(a,dhx.BindSource);if(!this.uc){var d=this.render;if(this.filter){var e=this.e.id;this.data.Da=function(){a.ia[e]=!1}}this.render=function(){if(!this.Xb){this.Xb=!0;var a=this.callEvent("onBindRequest");this.Xb=!1;return d.apply(this,a===!1?arguments:[])}};if(this.getValue||this.getValues)this.save=function(){if(!this.validate||this.validate())a.setBindData(this.getValue?
this.getValue:this.getValues(),this.e.id)};this.uc=!0}a.addBind(this.e.id,b,c);this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return a.getBindData(this.e.id)});this.isVisible(this.e.id)&&this.refresh()},M:function(a){a.removeBind(this.e.id);var b=this.wa||(this.data?this.data.wa:0);if(b&&a.data)for(var c=0;c<b.length;c++)a.data.detachEvent(b[c])}};
dhx.BindSource={$init:function(){this.ha={};this.ia={};this.Ba={};this.vc(this)},saveBatch:function(a){this.Hb=!0;a.call(this);this.Hb=!1;this.Y()},setBindData:function(a,b){b&&(this.Ba[b]=!0);if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var c=this.getCursor();c&&(a=dhx.extend(this.item(c),a,!0),this.update(c,a))}this.callEvent("onBindUpdate",[a,b]);this.save&&this.save();b&&(this.Ba[b]=!1)},getBindData:function(a,b){if(this.ia[a])return!1;var c=dhx.ui.get(a);c.isVisible(c.e.id)&&
(this.ia[a]=!0,this.Ma(c,this.ha[a][0],this.ha[a][1]),b&&c.filter&&c.refresh())},addBind:function(a,b,c){this.ha[a]=[b,c]},removeBind:function(a){delete this.ha[a];delete this.ia[a];delete this.Ba[a]},vc:function(a){a.filter?dhx.extend(this,dhx.CollectionBind):a.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},Y:function(){if(!this.Hb)for(var a in this.ha)this.Ba[a]||(this.ia[a]=!1,this.getBindData(a,!0))},yb:function(a,b,c){a.setValue?a.setValue(c?c[b]:c):a.filter?a.data.silent(function(){this.filter(b,
c)}):!c&&a.clear?a.clear():a.ka(c)&&a.setValues(dhx.clone(c));a.callEvent("onBindApply",[c,b,this])}};dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return!0},$init:function(a){var b=(this.data=a)&&a.id?a.id:dhx.uid();this.e={id:b};dhx.ui.views[b]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(a){this.data=a||{};var b=a&&a.id?a.id:dhx.uid();this.e={id:b};dhx.ui.views[b]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind,dhx.AtomDataLoader,dhx.Settings);
dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){return!this.data.order.length&&!this.data.h&&!this.e.dataFeed?!1:!0},$init:function(a){this.data.provideApi(this,!0);var b=a&&a.id?a.id:dhx.uid();this.e.id=b;dhx.ui.views[b]=this;this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.DataLoader,dhx.EventSystem,dhx.BaseBind,dhx.Settings);
dhx.ValueBind={$init:function(){this.attachEvent("onChange",this.Y)},Ma:function(a,b,c){var d=this.getValue()||"";c&&(d=c(d));if(a.setValue)a.setValue(d);else if(a.filter)a.data.silent(function(){this.filter(b,d)});else{var e={};e[b]=d;a.ka(d)&&a.setValues(e)}a.callEvent("onBindApply",[d,b,this])}};dhx.RecordBind={$init:function(){this.attachEvent("onChange",this.Y)},Ma:function(a,b){var c=this.getValues()||null;this.yb(a,b,c)}};
dhx.CollectionBind={$init:function(){this.O=null;this.attachEvent("onSelectChange",function(){var a=this.getSelected();this.setCursor(a?a.id||a:"")});this.attachEvent("onAfterCursorChange",this.Y);this.data.attachEvent("onStoreUpdated",dhx.bind(function(a){a&&a==this.getCursor()&&this.Y()},this));this.data.attachEvent("onClearAll",dhx.bind(function(){this.O=null},this));this.data.attachEvent("onIdChange",dhx.bind(function(a,b){if(this.O==a)this.O=b},this))},setCursor:function(a){if(!(a==this.O||a!==
null&&!this.item(a)))this.callEvent("onBeforeCursorChange",[this.O]),this.O=a,this.callEvent("onAfterCursorChange",[a])},getCursor:function(){return this.O},Ma:function(a,b){var c=this.item(this.getCursor())||null;this.yb(a,b,c)}};if(!dhx.ui)dhx.ui={};if(!dhx.ui.views)dhx.ui.views={},dhx.ui.get=function(a){return a.e?a:dhx.ui.views[a]};
dhtmlXDataStore=function(a){var b=new dhx.DataCollection(a),c="_dp_init";b[c]=function(a){var b="_methods";a[b]=["dummy","dummy","changeId","dummy"];this.data.td={add:"inserted",update:"updated","delete":"deleted"};this.data.attachEvent("onStoreUpdated",function(b,c,e){b&&!a.kc&&a.setUpdated(b,!0,this.td[e])});b="_getRowData";a[b]=function(a){var b=this.obj.data.item(a),c={id:a,"!nativeeditor_status":this.obj.getUserData(a)};if(b)for(var d in b)d.indexOf("_")!==0&&(c[d]=b[d]);return c};this.changeId=
function(b,c){this.data.changeId(b,c);a.kc=!0;this.data.callEvent("onStoreUpdated",[c,this.item(c),"update"]);a.kc=!1};b="_clearUpdateFlag";a[b]=function(){};this.fa={}};b.dummy=function(){};b.setUserData=function(a,b,c){this.fa[a]=c};b.getUserData=function(a){return this.fa[a]};b.dataFeed=function(a){this.define("dataFeed",a)};dhx.extend(b,dhx.BindSource);return b};
if(window.dhtmlXDataView)dhtmlXDataView.prototype.i=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.h&&!this.e.dataFeed?!1:!0};if(!this.e.id)this.e.id=dhx.uid();this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.e.id]=this};
if(window.dhtmlXChart)dhtmlXChart.prototype.i=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.Wd&&!this.e.dataFeed?!1:!0};if(!this.e.id)this.e.id=dhx.uid();this.unbind=dhx.BaseBind.unbind;this.unsync=dhx.BaseBind.unsync;dhx.ui.views[this.e.id]=this};dhx.BaseBind.unsync=function(a){return dhx.BaseBind.M.call(this,a)};dhx.BaseBind.unbind=function(a){return dhx.BaseBind.M.call(this,a)};dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};
dhx.BaseBind.legacySync=function(a,b){this.i&&this.i();a.i&&a.i();this.attachEvent("onAfterEditStop",function(a){this.save(a);return!0});this.save=function(b){b||(b=this.getCursor());var d=this.item(b),e=a.item(b),f;for(f in d)f.indexOf("$")!==0&&(e[f]=d[f]);a.refresh(b)};return a&&a.name=="DataCollection"?a.data.sync.apply(this.data,arguments):this.data.sync.apply(this.data,arguments)};
if(window.dhtmlXForm)dhtmlXForm.prototype.bind=function(a){dhx.BaseBind.bind.apply(this,arguments);a.getBindData(this.e.id)},dhtmlXForm.prototype.unbind=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXForm.prototype.i=function(){if(dhx.isUndefined(this.e))this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this},dhtmlXForm.prototype.ka=function(a){if(!this.e.dataFeed||this.aa||!a)return!0;var b=this.e.dataFeed;if(typeof b=="function")return b.call(this,a.id||a,a);b=b+(b.indexOf("?")==-1?
"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.load(b);return!1},dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData,dhtmlXForm.prototype.getValues=function(){return this.getFormData(!1,!0)},dhtmlXForm.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return!0};
if(window.scheduler){if(!window.Scheduler)window.Scheduler={};Scheduler.$syncFactory=function(a){a.sync=function(b,c){this.i&&this.i();b.i&&b.i();var d="_process_loading",e=function(){a.clearAll();for(var e=b.data.order,g=b.data.pull,h=[],i=0;i<e.length;i++)h[i]=c&&c.copy?dhx.clone(g[e[i]]):g[e[i]];a[d](h)};this.save=function(a){a||(a=this.getCursor());var c=this.item(a),d=b.item(a);this.callEvent("onStoreSave",[a,c,d])&&(dhx.extend(b.item(a),c,!0),b.update(a))};this.item=function(a){return this.getEvent(a)};
this.wa=[b.data.attachEvent("onStoreUpdated",function(){e.call(this)}),b.data.attachEvent("onIdChange",function(a,b){combo.changeOptionId(a,b)})];this.attachEvent("onEventChanged",function(a){this.save(a)});this.attachEvent("onEventAdded",function(a,c){b.data.pull[a]||b.add(c)});e()};a.unsync=function(a){dhx.BaseBind.M.call(this,a)};a.i=function(){if(!this.e)this.e={id:dhx.uid()}}};Scheduler.$syncFactory(window.scheduler)}
if(window.dhtmlXCombo)dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXCombo.unbind=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXCombo.unsync=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXCombo.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXCombo.prototype.sync=function(a){this.i&&this.i();a.i&&a.i();var b=this,c=function(){b.clearAll();b.addOption(this.serialize())};this.wa=[a.data.attachEvent("onStoreUpdated",function(){c.call(this)}),
a.data.attachEvent("onIdChange",function(a,c){b.changeOptionId(a,c)})];c.call(a)},dhtmlXCombo.prototype.i=function(){if(dhx.isUndefined(this.e))this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})},dhtmlXCombo.prototype.item=function(){return this.Yd},
dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()},dhtmlXCombo.prototype.isVisible=function(){return!this.optionsArr.length&&!this.e.dataFeed?!1:!0},dhtmlXCombo.prototype.refresh=function(){this.render(!0)},dhtmlXCombo.prototype.filter=function(){alert("not implemented")};
if(window.dhtmlXGridObject)dhtmlXGridObject.prototype.bind=function(a,b,c){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXGridObject.prototype.unbind=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXGridObject.prototype.unsync=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXGridObject.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXGridObject.prototype.sync=function(a,b){this.i&&this.i();a.i&&a.i();var c=this,d="_parsing",e="_parser",f="_locator",g="_process_store_row",h="_get_store_data";
this.save=function(b){b||(b=this.getCursor());dhx.extend(a.item(b),this.item(b),!0);a.update(b)};var i=function(){var a=0;c.Ca?(a=c.Ca,c.Ca=!1):c.clearAll();var b=this.dataCount();if(b){c[d]=!0;for(var i=a;i<b;i++){var m=this.order[i];if(m&&(!a||!c.rowsBuffer[i]))c.rowsBuffer[i]={idd:m,data:this.pull[m]},c.rowsBuffer[i][e]=c[g],c.rowsBuffer[i][f]=c[h],c.rowsAr[m]=this.pull[m]}if(!c.rowsBuffer[b-1])c.rowsBuffer[b-1]=dhtmlx.undefined,c.xmlFileUrl=c.xmlFileUrl||!0;c.pagingOn?c.changePage():c.Zd&&c.Vd?
c.ae():(c.render_dataset(),c.callEvent("onXLE",[]));c[d]=!1}};this.wa=[a.data.attachEvent("onStoreUpdated",function(a,b,d){d=="delete"?(c.deleteRow(a),c.data.callEvent("onStoreUpdated",[a,b,d])):d=="update"?(c.callEvent("onSyncUpdate",[b,d]),c.update(a,b),c.data.callEvent("onStoreUpdated",[a,b,d])):d=="add"?(c.callEvent("onSyncUpdate",[b,d]),c.add(a,b,this.indexById(a)),c.data.callEvent("onStoreUpdated",[a,b,d])):i.call(this)}),a.data.attachEvent("onStoreLoad",function(b,d){c.xmlFileUrl=a.data.url;
c.Ca=b.getInfo(d).q}),a.data.attachEvent("onIdChange",function(a,b){c.changeRowId(a,b)})];c.attachEvent("onDynXLS",function(b,d){for(var e=b;e<b+d;e++)if(!a.data.order[e])return a.loadNext(d,b),!1;c.Ca=b;i.call(a.data)});i.call(a.data);c.attachEvent("onEditCell",function(a,b){a==2&&this.save(b);return!0});c.attachEvent("onClearAll",function(){var a="_f_rowsBuffer";this[a]=null});b&&b.sort&&c.attachEvent("onBeforeSorting",function(b,d,e){if(d=="connector")return!1;var f=this.getColumnId(b);a.sort("#"+
f+"#",e=="asc"?"asc":"desc",d=="int"?d:"string");c.setSortImgState(!0,b,e);return!1});b&&b.filter&&c.attachEvent("onFilterStart",function(b,d){var e="_con_f_used";if(c[e]&&c[e].length)return!1;a.data.silent(function(){a.filter();for(var e=0;e<b.length;e++)if(d[e]!=""){var f=c.getColumnId(b[e]);a.filter("#"+f+"#",d[e],e!=0)}});a.refresh();return!1});b&&b.select&&c.attachEvent("onRowSelect",function(b){a.setCursor(b)});c.clearAndLoad=function(b){a.clearAll();a.load(b)}},dhtmlXGridObject.prototype.i=
function(){if(dhx.isUndefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.X};dhx.ui.views[this.e.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);for(var a="_cCount",b=0;b<this[a];b++)this.columnIds[b]||(this.columnIds[b]="cell"+b);this.attachEvent("onSelectStateChanged",function(a){this.callEvent("onSelectChange",[a])});this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])});this.attachEvent("onEditCell",function(a,
b){a===2&&this.getCursor&&b&&b==this.getCursor()&&this.Y();return!0});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}},dhtmlXGridObject.prototype.item=function(a){if(a===null)return null;var b=this.getRowById(a);if(!b)return null;var c="_attrs",d=dhx.copy(b[c]);d.id=a;for(var e=this.getColumnsNum(),f=0;f<e;f++)d[this.columnIds[f]]=this.cells(a,f).getValue();return d},dhtmlXGridObject.prototype.update=function(a,b){for(var c=0;c<this.columnIds.length;c++){var d=this.columnIds[c];
dhx.isUndefined(b[d])||this.cells(a,c).setValue(b[d])}var e="_attrs",f=this.getRowById(a)[e];for(d in b)f[d]=b[d];this.callEvent("onBindUpdate",[a])},dhtmlXGridObject.prototype.add=function(a,b,c){for(var d=[],e=0;e<this.columnIds.length;e++){var f=this.columnIds[e];d[e]=dhx.isUndefined(b[f])?"":b[f]}this.addRow(a,d,c);var g="_attrs";this.getRowById(a)[g]=dhx.copy(b)},dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()},dhtmlXGridObject.prototype.isVisible=function(){var a=
"_f_rowsBuffer";return!this.rowsBuffer.length&&!this[a]&&!this.e.dataFeed?!1:!0},dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()},dhtmlXGridObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c={};if(!a&&!b)return;if(typeof a=="function"){if(!b)return;a(b,c)}else dhx.isUndefined(a)?c=b:c[a]=b;this.clearAll();var d=this.e.dataFeed;if(typeof d=="function")return d.call(this,b,c);var e=[],f;for(f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));this.load(d+(d.indexOf("?")<
0?"?":"&")+e.join("&"));return!1}if(b===null)return this.filterBy(0,function(){return!1});this.filterBy(0,function(c,d){return a.call(this,d,b)})};
if(window.dhtmlXTreeObject)dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXTreeObject.prototype.unbind=function(a){dhx.BaseBind.M.call(this,a)},dhtmlXTreeObject.prototype.dataFeed=function(a){this.e?this.e.dataFeed=a:this.X=a},dhtmlXTreeObject.prototype.i=function(){if(dhx.isUndefined(this.e))this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onSelect",
function(a){this.callEvent("onSelectChange",[a])}),this.attachEvent("onEdit",function(a,b){a===2&&b&&b==this.getCursor()&&this.Y();return!0})},dhtmlXTreeObject.prototype.item=function(a){return a===null?null:{id:a,text:this.getItemText(a)}},dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()},dhtmlXTreeObject.prototype.isVisible=function(){return!0},dhtmlXTreeObject.prototype.refresh=function(){},dhtmlXTreeObject.prototype.filter=function(a,b){if(this.e.dataFeed){var c=
{};if(a||b){if(typeof a=="function"){if(!b)return;a(b,c)}else dhx.isUndefined(a)?c=b:c[a]=b;this.deleteChildItems(0);var d=this.e.dataFeed;if(typeof d=="function")return d.call(this,[data.id||data,data]);var e=[],f;for(f in c)e.push("dhx_filter["+f+"]="+encodeURIComponent(c[f]));this.loadXML(d+(d.indexOf("?")<0?"?":"&")+e.join("&"));return!1}}},dhtmlXTreeObject.prototype.update=function(a,b){dhx.isUndefined(b.text)||this.setItemText(a,b.text)};
